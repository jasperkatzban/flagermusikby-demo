let bt,sr,nr,gt,ar,or,St,lr,nt,Rt,$r,cr,at,vt,hr,dr,Zr,tt,pr,ur,Ct,At,rt,wr,_r,fr,te,F,mr,Q,yr,et,br,gr,Sr,Et,It,Tt,Rr,vr,Cr,Ar,re,Pt,Er,xt,Ir,Tr,Mt,ee,Pr,B,A,ot,jt,Dt,Ft,Ht,D,Bt,lt,ct,C,xr,Mr,jr,kt,Nt,Lt,Jt,Dr,h,Fr,be,ie,Yc=(async()=>{const Me="/assets/rapier_wasm2d_bg-b5dc53dc.wasm",je=async(a={},t)=>{let r;if(t.startsWith("data:")){const e=t.replace(/^data:.*?base64,/,"");let s;if(typeof Buffer=="function"&&typeof Buffer.from=="function")s=Buffer.from(e,"base64");else if(typeof atob=="function"){const n=atob(e);s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o)}else throw new Error("Cannot decode base64-encoded data URL");r=await WebAssembly.instantiate(s,a)}else{const e=await fetch(t),s=e.headers.get("Content-Type")||"";if("instantiateStreaming"in WebAssembly&&s.startsWith("application/wasm"))r=await WebAssembly.instantiateStreaming(e,a);else{const n=await e.arrayBuffer();r=await WebAssembly.instantiate(n,a)}}return r.instance.exports},g=new Array(32).fill(void 0);g.push(void 0,null,!0,!1);function v(a){return g[a]}let ht=g.length;function De(a){a<36||(g[a]=ht,ht=a)}function zt(a){const t=v(a);return De(a),t}function j(a){ht===g.length&&g.push(g.length+1);const t=ht;return ht=g[t],g[t]=a,t}function f(a){return a==null}let Br=new Float64Array;function Ot(){return Br.byteLength===0&&(Br=new Float64Array(st.buffer)),Br}let kr=new Int32Array;function I(){return kr.byteLength===0&&(kr=new Int32Array(st.buffer)),kr}const Fe=typeof TextDecoder>"u"?(0,module.require)("util").TextDecoder:TextDecoder;let ne=new Fe("utf-8",{ignoreBOM:!0,fatal:!0});ne.decode();let Nr=new Uint8Array;function He(){return Nr.byteLength===0&&(Nr=new Uint8Array(st.buffer)),Nr}function ae(a,t){return ne.decode(He().subarray(a,a+t))}function Be(){try{const r=R(-16);ai(r);var a=I()[r/4+0],t=I()[r/4+1];return ae(a,t)}finally{R(16),er(a,t)}}function l(a,t){if(!(a instanceof t))throw new Error(`expected instance of ${t.name}`);return a.ptr}let Lr=new Float32Array;function X(){return Lr.byteLength===0&&(Lr=new Float32Array(st.buffer)),Lr}let E=32;function T(a){if(E==1)throw new Error("out of js stack");return g[--E]=a,E}function oe(a,t){return X().subarray(a/4,a/4+t)}let Jr=new Uint32Array;function le(){return Jr.byteLength===0&&(Jr=new Uint32Array(st.buffer)),Jr}function ke(a,t){return le().subarray(a/4,a/4+t)}let k=0;function $(a,t){const r=t(a.length*4);return X().set(a,r/4),k=a.length,r}function ce(a,t){const r=t(a.length*4);return le().set(a,r/4),k=a.length,r}function zr(a,t){try{return a.apply(this,t)}catch(r){Vc(j(r))}}const Gt=Object.freeze({X:0,0:"X",Y:1,1:"Y",AngX:2,2:"AngX"});class K{static __wrap(t){const r=Object.create(K.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();ua(t)}constructor(){const t=wa();return K.__wrap(t)}}class it{static __wrap(t){const r=Object.create(it.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();Li(t)}constructor(){const t=Ji();return it.__wrap(t)}}class dt{static __wrap(t){const r=Object.create(dt.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();Mi(t)}constructor(){const t=ji();return dt.__wrap(t)}handle(){return Di(this.ptr)}translationApplied(){const t=ft(this.ptr);return d.__wrap(t)}translationRemaining(){const t=he(this.ptr);return d.__wrap(t)}toi(){return Fi(this.ptr)}worldWitness1(){const t=Hi(this.ptr);return d.__wrap(t)}worldWitness2(){const t=Bi(this.ptr);return d.__wrap(t)}worldNormal1(){const t=ki(this.ptr);return d.__wrap(t)}worldNormal2(){const t=Ni(this.ptr);return d.__wrap(t)}}class P{static __wrap(t){const r=Object.create(P.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();Co(t)}coTranslation(t){const r=_a(this.ptr,t);return d.__wrap(r)}coRotation(t){const r=fa(this.ptr,t);return S.__wrap(r)}coSetTranslation(t,r,e){ma(this.ptr,t,r,e)}coSetTranslationWrtParent(t,r,e){ya(this.ptr,t,r,e)}coSetRotation(t,r){ba(this.ptr,t,r)}coSetRotationWrtParent(t,r){ga(this.ptr,t,r)}coIsSensor(t){return Sa(this.ptr,t)!==0}coShapeType(t){return Ra(this.ptr,t)>>>0}coHalfspaceNormal(t){const r=va(this.ptr,t);return r===0?void 0:d.__wrap(r)}coHalfExtents(t){const r=Ca(this.ptr,t);return r===0?void 0:d.__wrap(r)}coSetHalfExtents(t,r){l(r,d),Aa(this.ptr,t,r.ptr)}coRadius(t){try{const s=R(-16);Ea(s,this.ptr,t);var r=I()[s/4+0],e=X()[s/4+1];return r===0?void 0:e}finally{R(16)}}coSetRadius(t,r){Ia(this.ptr,t,r)}coHalfHeight(t){try{const s=R(-16);Ta(s,this.ptr,t);var r=I()[s/4+0],e=X()[s/4+1];return r===0?void 0:e}finally{R(16)}}coSetHalfHeight(t,r){Pa(this.ptr,t,r)}coRoundRadius(t){try{const s=R(-16);xa(s,this.ptr,t);var r=I()[s/4+0],e=X()[s/4+1];return r===0?void 0:e}finally{R(16)}}coSetRoundRadius(t,r){Ma(this.ptr,t,r)}coVertices(t){try{const s=R(-16);ja(s,this.ptr,t);var r=I()[s/4+0],e=I()[s/4+1];let n;return r!==0&&(n=oe(r,e).slice(),er(r,e*4)),n}finally{R(16)}}coIndices(t){try{const s=R(-16);Da(s,this.ptr,t);var r=I()[s/4+0],e=I()[s/4+1];let n;return r!==0&&(n=ke(r,e).slice(),er(r,e*4)),n}finally{R(16)}}coHeightfieldHeights(t){try{const s=R(-16);Fa(s,this.ptr,t);var r=I()[s/4+0],e=I()[s/4+1];let n;return r!==0&&(n=oe(r,e).slice(),er(r,e*4)),n}finally{R(16)}}coHeightfieldScale(t){const r=Ha(this.ptr,t);return r===0?void 0:d.__wrap(r)}coParent(t){try{const s=R(-16);Ba(s,this.ptr,t);var r=I()[s/4+0],e=Ot()[s/8+1];return r===0?void 0:e}finally{R(16)}}coSetEnabled(t,r){ka(this.ptr,t,r)}coIsEnabled(t){return Na(this.ptr,t)!==0}coFriction(t){return La(this.ptr,t)}coRestitution(t){return Ja(this.ptr,t)}coDensity(t){return za(this.ptr,t)}coMass(t){return Oa(this.ptr,t)}coVolume(t){return Ga(this.ptr,t)}coCollisionGroups(t){return Wa(this.ptr,t)>>>0}coSolverGroups(t){return Va(this.ptr,t)>>>0}coActiveHooks(t){return qa(this.ptr,t)>>>0}coActiveCollisionTypes(t){return Ua(this.ptr,t)}coActiveEvents(t){return Xa(this.ptr,t)>>>0}coContactForceEventThreshold(t){return Ka(this.ptr,t)}coContainsPoint(t,r){return l(r,d),Ya(this.ptr,t,r.ptr)!==0}coCastShape(t,r,e,s,n,o,c,p){l(r,d),l(e,y),l(s,d),l(n,S),l(o,d);const u=Qa(this.ptr,t,r.ptr,e.ptr,s.ptr,n.ptr,o.ptr,c,p);return u===0?void 0:Zt.__wrap(u)}coCastCollider(t,r,e,s,n,o){l(r,d),l(s,d);const c=$a(this.ptr,t,r.ptr,e,s.ptr,n,o);return c===0?void 0:$t.__wrap(c)}coIntersectsShape(t,r,e,s){return l(r,y),l(e,d),l(s,S),Za(this.ptr,t,r.ptr,e.ptr,s.ptr)!==0}coContactShape(t,r,e,s,n){l(r,y),l(e,d),l(s,S);const o=to(this.ptr,t,r.ptr,e.ptr,s.ptr,n);return o===0?void 0:wt.__wrap(o)}coContactCollider(t,r,e){const s=ro(this.ptr,t,r,e);return s===0?void 0:wt.__wrap(s)}coProjectPoint(t,r,e){l(r,d);const s=eo(this.ptr,t,r.ptr,e);return Xt.__wrap(s)}coIntersectsRay(t,r,e,s){return l(r,d),l(e,d),io(this.ptr,t,r.ptr,e.ptr,s)!==0}coCastRay(t,r,e,s,n){return l(r,d),l(e,d),so(this.ptr,t,r.ptr,e.ptr,s,n)}coCastRayAndGetNormal(t,r,e,s,n){l(r,d),l(e,d);const o=no(this.ptr,t,r.ptr,e.ptr,s,n);return o===0?void 0:Yt.__wrap(o)}coSetSensor(t,r){ao(this.ptr,t,r)}coSetRestitution(t,r){oo(this.ptr,t,r)}coSetFriction(t,r){lo(this.ptr,t,r)}coFrictionCombineRule(t){return co(this.ptr,t)>>>0}coSetFrictionCombineRule(t,r){ho(this.ptr,t,r)}coRestitutionCombineRule(t){return po(this.ptr,t)>>>0}coSetRestitutionCombineRule(t,r){uo(this.ptr,t,r)}coSetCollisionGroups(t,r){wo(this.ptr,t,r)}coSetSolverGroups(t,r){_o(this.ptr,t,r)}coSetActiveHooks(t,r){fo(this.ptr,t,r)}coSetActiveEvents(t,r){mo(this.ptr,t,r)}coSetActiveCollisionTypes(t,r){yo(this.ptr,t,r)}coSetShape(t,r){l(r,y),bo(this.ptr,t,r.ptr)}coSetContactForceEventThreshold(t,r){go(this.ptr,t,r)}coSetDensity(t,r){So(this.ptr,t,r)}coSetMass(t,r){Ro(this.ptr,t,r)}coSetMassProperties(t,r,e,s){l(e,d),vo(this.ptr,t,r,e.ptr,s)}constructor(){const t=Ao();return P.__wrap(t)}len(){return Eo(this.ptr)>>>0}contains(t){return we(this.ptr,t)!==0}createCollider(t,r,e,s,n,o,c,p,u,w,_,m,b,x,N,V,q,Z,Kr,Yr,qc,Uc,ye){try{const Qr=R(-16);l(r,y),l(e,d),l(s,S),l(c,d),l(ye,M),Io(Qr,this.ptr,t,r.ptr,e.ptr,s.ptr,n,o,c.ptr,p,u,w,_,m,b,x,N,V,q,Z,Kr,Yr,qc,Uc,ye.ptr);var Xc=I()[Qr/4+0],Kc=Ot()[Qr/8+1];return Xc===0?void 0:Kc}finally{R(16)}}remove(t,r,e,s){l(r,z),l(e,M),To(this.ptr,t,r.ptr,e.ptr,s)}isHandleValid(t){return we(this.ptr,t)!==0}forEachColliderHandle(t){try{Po(this.ptr,T(t))}finally{g[E++]=void 0}}}class Or{static __wrap(t){const r=Object.create(Or.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();ec(t)}collider1(){return mt(this.ptr)}collider2(){return ic(this.ptr)}total_force(){const t=yt(this.ptr);return d.__wrap(t)}total_force_magnitude(){return rr(this.ptr)}max_force_direction(){const t=ft(this.ptr);return d.__wrap(t)}max_force_magnitude(){return sc(this.ptr)}}class Gr{static __wrap(t){const r=Object.create(Gr.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();ko(t)}normal(){const t=Oo(this.ptr);return d.__wrap(t)}local_n1(){const t=Go(this.ptr);return d.__wrap(t)}local_n2(){const t=Wo(this.ptr);return d.__wrap(t)}subshape1(){return Vo(this.ptr)>>>0}subshape2(){return qo(this.ptr)>>>0}num_contacts(){return Uo(this.ptr)>>>0}contact_local_p1(t){const r=Xo(this.ptr,t);return r===0?void 0:d.__wrap(r)}contact_local_p2(t){const r=Ko(this.ptr,t);return r===0?void 0:d.__wrap(r)}contact_dist(t){return Yo(this.ptr,t)}contact_fid1(t){return Qo(this.ptr,t)>>>0}contact_fid2(t){return $o(this.ptr,t)>>>0}contact_impulse(t){return Zo(this.ptr,t)}contact_tangent_impulse(t){return tl(this.ptr,t)}num_solver_contacts(){return rl(this.ptr)>>>0}solver_contact_point(t){const r=el(this.ptr,t);return r===0?void 0:d.__wrap(r)}solver_contact_dist(t){return il(this.ptr,t)}solver_contact_friction(t){return sl(this.ptr,t)}solver_contact_restitution(t){return nl(this.ptr,t)}solver_contact_tangent_velocity(t){const r=al(this.ptr,t);return d.__wrap(r)}}class Wr{static __wrap(t){const r=Object.create(Wr.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();Nc(t)}collider1(){return No(this.ptr)}collider2(){return Lo(this.ptr)}numContactManifolds(){return Jo(this.ptr)>>>0}contactManifold(t){const r=zo(this.ptr,t);return r===0?void 0:Gr.__wrap(r)}}class Wt{static __wrap(t){const r=Object.create(Wt.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();Yl(t)}constructor(){const t=Ql();return Wt.__wrap(t)}vertices(){const t=$l(this.ptr);return zt(t)}colors(){const t=Zl(this.ptr);return zt(t)}render(t,r,e,s,n){l(t,M),l(r,P),l(e,J),l(s,O),l(n,G),tc(this.ptr,t.ptr,r.ptr,e.ptr,s.ptr,n.ptr)}}class Vr{static __wrap(t){const r=Object.create(Vr.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();Ec(t)}takeGravity(){const t=Ic(this.ptr);return t===0?void 0:d.__wrap(t)}takeIntegrationParameters(){const t=Tc(this.ptr);return t===0?void 0:Y.__wrap(t)}takeIslandManager(){const t=Pc(this.ptr);return t===0?void 0:z.__wrap(t)}takeBroadPhase(){const t=xc(this.ptr);return t===0?void 0:K.__wrap(t)}takeNarrowPhase(){const t=Mc(this.ptr);return t===0?void 0:G.__wrap(t)}takeBodies(){const t=jc(this.ptr);return t===0?void 0:M.__wrap(t)}takeColliders(){const t=Dc(this.ptr);return t===0?void 0:P.__wrap(t)}takeImpulseJoints(){const t=Fc(this.ptr);return t===0?void 0:J.__wrap(t)}takeMultibodyJoints(){const t=Hc(this.ptr);return t===0?void 0:O.__wrap(t)}}class pt{static __wrap(t){const r=Object.create(pt.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();rc(t)}constructor(t){const r=nc(t);return pt.__wrap(r)}drainCollisionEvents(t){try{ac(this.ptr,T(t))}finally{g[E++]=void 0}}drainContactForceEvents(t){try{oc(this.ptr,T(t))}finally{g[E++]=void 0}}clear(){lc(this.ptr)}}class L{static __wrap(t){const r=Object.create(L.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();Ms(t)}static prismatic(t,r,e,s,n,o){l(t,d),l(r,d),l(e,d);const c=js(t.ptr,r.ptr,e.ptr,s,n,o);return c===0?void 0:L.__wrap(c)}static fixed(t,r,e,s){l(t,d),l(r,S),l(e,d),l(s,S);const n=Ds(t.ptr,r.ptr,e.ptr,s.ptr);return L.__wrap(n)}static revolute(t,r){l(t,d),l(r,d);const e=Fs(t.ptr,r.ptr);return e===0?void 0:L.__wrap(e)}}class J{static __wrap(t){const r=Object.create(J.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();as(t)}jointType(t){return zi(this.ptr,t)>>>0}jointBodyHandle1(t){return Oi(this.ptr,t)}jointBodyHandle2(t){return Gi(this.ptr,t)}jointFrameX1(t){const r=Wi(this.ptr,t);return S.__wrap(r)}jointFrameX2(t){const r=Vi(this.ptr,t);return S.__wrap(r)}jointAnchor1(t){const r=qi(this.ptr,t);return d.__wrap(r)}jointAnchor2(t){const r=Ui(this.ptr,t);return d.__wrap(r)}jointSetAnchor1(t,r){l(r,d),Xi(this.ptr,t,r.ptr)}jointSetAnchor2(t,r){l(r,d),Ki(this.ptr,t,r.ptr)}jointContactsEnabled(t){return Yi(this.ptr,t)!==0}jointSetContactsEnabled(t,r){Qi(this.ptr,t,r)}jointLimitsEnabled(t,r){return $i(this.ptr,t,r)!==0}jointLimitsMin(t,r){return Zi(this.ptr,t,r)}jointLimitsMax(t,r){return ts(this.ptr,t,r)}jointSetLimits(t,r,e,s){rs(this.ptr,t,r,e,s)}jointConfigureMotorModel(t,r,e){es(this.ptr,t,r,e)}jointConfigureMotorVelocity(t,r,e,s){is(this.ptr,t,r,e,s)}jointConfigureMotorPosition(t,r,e,s,n){ss(this.ptr,t,r,e,s,n)}jointConfigureMotor(t,r,e,s,n,o){ns(this.ptr,t,r,e,s,n,o)}constructor(){const t=os();return J.__wrap(t)}createJoint(t,r,e,s){return l(t,L),ls(this.ptr,t.ptr,r,e,s)}remove(t,r){cs(this.ptr,t,r)}len(){return hs(this.ptr)>>>0}contains(t){return ds(this.ptr,t)!==0}forEachJointHandle(t){try{ps(this.ptr,T(t))}finally{g[E++]=void 0}}forEachJointAttachedToRigidBody(t,r){try{us(this.ptr,t,T(r))}finally{g[E++]=void 0}}}class Y{static __wrap(t){const r=Object.create(Y.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();ws(t)}constructor(){const t=_s();return Y.__wrap(t)}get dt(){return Ur(this.ptr)}get erp(){return de(this.ptr)}get allowedLinearError(){return Xr(this.ptr)}get predictionDistance(){return rr(this.ptr)}get maxVelocityIterations(){return fs(this.ptr)>>>0}get maxVelocityFrictionIterations(){return ms(this.ptr)>>>0}get maxStabilizationIterations(){return ys(this.ptr)>>>0}get minIslandSize(){return bs(this.ptr)>>>0}get maxCcdSubsteps(){return gs(this.ptr)>>>0}set dt(t){pe(this.ptr,t)}set erp(t){Ss(this.ptr,t)}set allowedLinearError(t){ue(this.ptr,t)}set predictionDistance(t){Rs(this.ptr,t)}set maxVelocityIterations(t){vs(this.ptr,t)}set maxVelocityFrictionIterations(t){Cs(this.ptr,t)}set maxStabilizationIterations(t){As(this.ptr,t)}set minIslandSize(t){Es(this.ptr,t)}set maxCcdSubsteps(t){Is(this.ptr,t)}}class z{static __wrap(t){const r=Object.create(z.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();Ts(t)}constructor(){const t=Ps();return z.__wrap(t)}forEachActiveRigidBodyHandle(t){try{xs(this.ptr,T(t))}finally{g[E++]=void 0}}}class Vt{static __wrap(t){const r=Object.create(Vt.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();oi(t)}constructor(t){const r=li(t);return Vt.__wrap(r)}up(){const t=_t(this.ptr);return d.__wrap(t)}setUp(t){l(t,d),ci(this.ptr,t.ptr)}offset(){return hi(this.ptr)}setOffset(t){di(this.ptr,t)}slideEnabled(){return pi(this.ptr)!==0}setSlideEnabled(t){ui(this.ptr,t)}autostepMaxHeight(){try{const e=R(-16);wi(e,this.ptr);var t=I()[e/4+0],r=X()[e/4+1];return t===0?void 0:r}finally{R(16)}}autostepMinWidth(){try{const e=R(-16);_i(e,this.ptr);var t=I()[e/4+0],r=X()[e/4+1];return t===0?void 0:r}finally{R(16)}}autostepIncludesDynamicBodies(){const t=fi(this.ptr);return t===16777215?void 0:t!==0}autostepEnabled(){return mi(this.ptr)!==0}enableAutostep(t,r,e){yi(this.ptr,t,r,e)}disableAutostep(){bi(this.ptr)}maxSlopeClimbAngle(){return Xr(this.ptr)}setMaxSlopeClimbAngle(t){ue(this.ptr,t)}minSlopeSlideAngle(){return gi(this.ptr)}setMinSlopeSlideAngle(t){Si(this.ptr,t)}snapToGroundDistance(){try{const e=R(-16);Ri(e,this.ptr);var t=I()[e/4+0],r=X()[e/4+1];return t===0?void 0:r}finally{R(16)}}enableSnapToGround(t){vi(this.ptr,t)}disableSnapToGround(){Ci(this.ptr)}snapToGroundEnabled(){return Ai(this.ptr)!==0}computeColliderMovement(t,r,e,s,n,o,c,p,u,w,_){try{l(r,M),l(e,P),l(s,ut),l(o,d),Ei(this.ptr,t,r.ptr,e.ptr,s.ptr,n,o.ptr,c,!f(p),f(p)?0:p,u,!f(w),f(w)?0:w,T(_))}finally{g[E++]=void 0}}computedMovement(){const t=Ii(this.ptr);return d.__wrap(t)}computedGrounded(){return Ti(this.ptr)!==0}numComputedCollisions(){return Pi(this.ptr)>>>0}computedCollision(t,r){return l(r,dt),xi(this.ptr,t,r.ptr)!==0}}class O{static __wrap(t){const r=Object.create(O.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();Vs(t)}jointType(t){return Hs(this.ptr,t)>>>0}jointFrameX1(t){const r=Bs(this.ptr,t);return S.__wrap(r)}jointFrameX2(t){const r=ks(this.ptr,t);return S.__wrap(r)}jointAnchor1(t){const r=Ns(this.ptr,t);return d.__wrap(r)}jointAnchor2(t){const r=Ls(this.ptr,t);return d.__wrap(r)}jointContactsEnabled(t){return Js(this.ptr,t)!==0}jointSetContactsEnabled(t,r){zs(this.ptr,t,r)}jointLimitsEnabled(t,r){return Os(this.ptr,t,r)!==0}jointLimitsMin(t,r){return Gs(this.ptr,t,r)}jointLimitsMax(t,r){return Ws(this.ptr,t,r)}constructor(){const t=qs();return O.__wrap(t)}createJoint(t,r,e,s){return l(t,L),Us(this.ptr,t.ptr,r,e,s)}remove(t,r){Xs(this.ptr,t,r)}contains(t){return Ks(this.ptr,t)!==0}forEachJointHandle(t){try{Ys(this.ptr,T(t))}finally{g[E++]=void 0}}forEachJointAttachedToRigidBody(t,r){try{Qs(this.ptr,t,T(r))}finally{g[E++]=void 0}}}class G{static __wrap(t){const r=Object.create(G.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();Mo(t)}constructor(){const t=jo();return G.__wrap(t)}contacts_with(t,r){Do(this.ptr,t,j(r))}contact_pair(t,r){const e=Fo(this.ptr,t,r);return e===0?void 0:Wr.__wrap(e)}intersections_with(t,r){Ho(this.ptr,t,j(r))}intersection_pair(t,r){return Bo(this.ptr,t,r)!==0}}class qt{static __wrap(t){const r=Object.create(qt.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();cc(t)}constructor(){const t=hc();return qt.__wrap(t)}step(t,r,e,s,n,o,c,p,u,w){l(t,d),l(r,Y),l(e,z),l(s,K),l(n,G),l(o,M),l(c,P),l(p,J),l(u,O),l(w,it),dc(this.ptr,t.ptr,r.ptr,e.ptr,s.ptr,n.ptr,o.ptr,c.ptr,p.ptr,u.ptr,w.ptr)}stepWithEvents(t,r,e,s,n,o,c,p,u,w,_,m,b,x){l(t,d),l(r,Y),l(e,z),l(s,K),l(n,G),l(o,M),l(c,P),l(p,J),l(u,O),l(w,it),l(_,pt),pc(this.ptr,t.ptr,r.ptr,e.ptr,s.ptr,n.ptr,o.ptr,c.ptr,p.ptr,u.ptr,w.ptr,_.ptr,j(m),j(b),j(x))}}class Ut{static __wrap(t){const r=Object.create(Ut.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();cl(t)}colliderHandle(){return mt(this.ptr)}point(){const t=yt(this.ptr);return d.__wrap(t)}isInside(){return hl(this.ptr)!==0}featureType(){return _e(this.ptr)>>>0}featureId(){try{const e=R(-16);fe(e,this.ptr);var t=I()[e/4+0],r=I()[e/4+1];return t===0?void 0:r>>>0}finally{R(16)}}}class Xt{static __wrap(t){const r=Object.create(Xt.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();ol(t)}point(){const t=_t(this.ptr);return d.__wrap(t)}isInside(){return ll(this.ptr)!==0}}class ut{static __wrap(t){const r=Object.create(ut.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();uc(t)}constructor(){const t=wc();return ut.__wrap(t)}update(t,r){l(t,M),l(r,P),_c(this.ptr,t.ptr,r.ptr)}castRay(t,r,e,s,n,o,c,p,u,w,_){try{l(t,M),l(r,P),l(e,d),l(s,d);const m=fc(this.ptr,t.ptr,r.ptr,e.ptr,s.ptr,n,o,c,!f(p),f(p)?0:p,!f(u),f(u)?0:u,!f(w),f(w)?0:w,T(_));return m===0?void 0:qr.__wrap(m)}finally{g[E++]=void 0}}castRayAndGetNormal(t,r,e,s,n,o,c,p,u,w,_){try{l(t,M),l(r,P),l(e,d),l(s,d);const m=mc(this.ptr,t.ptr,r.ptr,e.ptr,s.ptr,n,o,c,!f(p),f(p)?0:p,!f(u),f(u)?0:u,!f(w),f(w)?0:w,T(_));return m===0?void 0:Kt.__wrap(m)}finally{g[E++]=void 0}}intersectionsWithRay(t,r,e,s,n,o,c,p,u,w,_,m){try{l(t,M),l(r,P),l(e,d),l(s,d),yc(this.ptr,t.ptr,r.ptr,e.ptr,s.ptr,n,o,T(c),p,!f(u),f(u)?0:u,!f(w),f(w)?0:w,!f(_),f(_)?0:_,T(m))}finally{g[E++]=void 0,g[E++]=void 0}}intersectionWithShape(t,r,e,s,n,o,c,p,u,w){try{const b=R(-16);l(t,M),l(r,P),l(e,d),l(s,S),l(n,y),bc(b,this.ptr,t.ptr,r.ptr,e.ptr,s.ptr,n.ptr,o,!f(c),f(c)?0:c,!f(p),f(p)?0:p,!f(u),f(u)?0:u,T(w));var _=I()[b/4+0],m=Ot()[b/8+1];return _===0?void 0:m}finally{R(16),g[E++]=void 0}}projectPoint(t,r,e,s,n,o,c,p,u){try{l(t,M),l(r,P),l(e,d);const w=gc(this.ptr,t.ptr,r.ptr,e.ptr,s,n,!f(o),f(o)?0:o,!f(c),f(c)?0:c,!f(p),f(p)?0:p,T(u));return w===0?void 0:Ut.__wrap(w)}finally{g[E++]=void 0}}projectPointAndGetFeature(t,r,e,s,n,o,c,p){try{l(t,M),l(r,P),l(e,d);const u=Sc(this.ptr,t.ptr,r.ptr,e.ptr,s,!f(n),f(n)?0:n,!f(o),f(o)?0:o,!f(c),f(c)?0:c,T(p));return u===0?void 0:Ut.__wrap(u)}finally{g[E++]=void 0}}intersectionsWithPoint(t,r,e,s,n,o,c,p,u){try{l(t,M),l(r,P),l(e,d),Rc(this.ptr,t.ptr,r.ptr,e.ptr,T(s),n,!f(o),f(o)?0:o,!f(c),f(c)?0:c,!f(p),f(p)?0:p,T(u))}finally{g[E++]=void 0,g[E++]=void 0}}castShape(t,r,e,s,n,o,c,p,u,w,_,m,b){try{l(t,M),l(r,P),l(e,d),l(s,S),l(n,d),l(o,y);const x=vc(this.ptr,t.ptr,r.ptr,e.ptr,s.ptr,n.ptr,o.ptr,c,p,u,!f(w),f(w)?0:w,!f(_),f(_)?0:_,!f(m),f(m)?0:m,T(b));return x===0?void 0:$t.__wrap(x)}finally{g[E++]=void 0}}intersectionsWithShape(t,r,e,s,n,o,c,p,u,w,_){try{l(t,M),l(r,P),l(e,d),l(s,S),l(n,y),Cc(this.ptr,t.ptr,r.ptr,e.ptr,s.ptr,n.ptr,T(o),c,!f(p),f(p)?0:p,!f(u),f(u)?0:u,!f(w),f(w)?0:w,T(_))}finally{g[E++]=void 0,g[E++]=void 0}}collidersWithAabbIntersectingAabb(t,r,e){try{l(t,d),l(r,d),Ac(this.ptr,t.ptr,r.ptr,T(e))}finally{g[E++]=void 0}}}class Kt{static __wrap(t){const r=Object.create(Kt.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();Lc(t)}colliderHandle(){return mt(this.ptr)}normal(){const t=tr(this.ptr);return d.__wrap(t)}toi(){return Xr(this.ptr)}featureType(){return ul(this.ptr)>>>0}featureId(){try{const e=R(-16);wl(e,this.ptr);var t=I()[e/4+0],r=I()[e/4+1];return t===0?void 0:r>>>0}finally{R(16)}}}class qr{static __wrap(t){const r=Object.create(qr.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();Jc(t)}colliderHandle(){return mt(this.ptr)}toi(){return de(this.ptr)}}class Yt{static __wrap(t){const r=Object.create(Yt.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();dl(t)}normal(){const t=_t(this.ptr);return d.__wrap(t)}toi(){return pl(this.ptr)}featureType(){return _e(this.ptr)>>>0}featureId(){try{const e=R(-16);fe(e,this.ptr);var t=I()[e/4+0],r=I()[e/4+1];return t===0?void 0:r>>>0}finally{R(16)}}}class M{static __wrap(t){const r=Object.create(M.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();na(t)}rbTranslation(t){const r=$s(this.ptr,t);return d.__wrap(r)}rbRotation(t){const r=Zs(this.ptr,t);return S.__wrap(r)}rbSleep(t){tn(this.ptr,t)}rbIsSleeping(t){return rn(this.ptr,t)!==0}rbIsMoving(t){return en(this.ptr,t)!==0}rbNextTranslation(t){const r=sn(this.ptr,t);return d.__wrap(r)}rbNextRotation(t){const r=nn(this.ptr,t);return S.__wrap(r)}rbSetTranslation(t,r,e,s){an(this.ptr,t,r,e,s)}rbSetRotation(t,r,e){on(this.ptr,t,r,e)}rbSetLinvel(t,r,e){l(r,d),ln(this.ptr,t,r.ptr,e)}rbSetAngvel(t,r,e){cn(this.ptr,t,r,e)}rbSetNextKinematicTranslation(t,r,e){hn(this.ptr,t,r,e)}rbSetNextKinematicRotation(t,r){dn(this.ptr,t,r)}rbRecomputeMassPropertiesFromColliders(t,r){l(r,P),pn(this.ptr,t,r.ptr)}rbSetAdditionalMass(t,r,e){un(this.ptr,t,r,e)}rbSetAdditionalMassProperties(t,r,e,s,n){l(e,d),wn(this.ptr,t,r,e.ptr,s,n)}rbLinvel(t){const r=_n(this.ptr,t);return d.__wrap(r)}rbAngvel(t){return fn(this.ptr,t)}rbLockTranslations(t,r,e){mn(this.ptr,t,r,e)}rbSetEnabledTranslations(t,r,e,s){yn(this.ptr,t,r,e,s)}rbLockRotations(t,r,e){bn(this.ptr,t,r,e)}rbDominanceGroup(t){return gn(this.ptr,t)}rbSetDominanceGroup(t,r){Sn(this.ptr,t,r)}rbEnableCcd(t,r){Rn(this.ptr,t,r)}rbMass(t){return vn(this.ptr,t)}rbInvMass(t){return Cn(this.ptr,t)}rbEffectiveInvMass(t){const r=An(this.ptr,t);return d.__wrap(r)}rbLocalCom(t){const r=En(this.ptr,t);return d.__wrap(r)}rbWorldCom(t){const r=In(this.ptr,t);return d.__wrap(r)}rbInvPrincipalInertiaSqrt(t){return Tn(this.ptr,t)}rbPrincipalInertia(t){return Pn(this.ptr,t)}rbEffectiveWorldInvInertiaSqrt(t){return xn(this.ptr,t)}rbEffectiveAngularInertia(t){return Mn(this.ptr,t)}rbWakeUp(t){jn(this.ptr,t)}rbIsCcdEnabled(t){return Dn(this.ptr,t)!==0}rbNumColliders(t){return Fn(this.ptr,t)>>>0}rbCollider(t,r){return Hn(this.ptr,t,r)}rbBodyType(t){return Bn(this.ptr,t)>>>0}rbSetBodyType(t,r,e){kn(this.ptr,t,r,e)}rbIsFixed(t){return Nn(this.ptr,t)!==0}rbIsKinematic(t){return Ln(this.ptr,t)!==0}rbIsDynamic(t){return Jn(this.ptr,t)!==0}rbLinearDamping(t){return zn(this.ptr,t)}rbAngularDamping(t){return On(this.ptr,t)}rbSetLinearDamping(t,r){Gn(this.ptr,t,r)}rbSetAngularDamping(t,r){Wn(this.ptr,t,r)}rbSetEnabled(t,r){Vn(this.ptr,t,r)}rbIsEnabled(t){return qn(this.ptr,t)!==0}rbGravityScale(t){return Un(this.ptr,t)}rbSetGravityScale(t,r,e){Xn(this.ptr,t,r,e)}rbResetForces(t,r){Kn(this.ptr,t,r)}rbResetTorques(t,r){Yn(this.ptr,t,r)}rbAddForce(t,r,e){l(r,d),Qn(this.ptr,t,r.ptr,e)}rbApplyImpulse(t,r,e){l(r,d),$n(this.ptr,t,r.ptr,e)}rbAddTorque(t,r,e){Zn(this.ptr,t,r,e)}rbApplyTorqueImpulse(t,r,e){ta(this.ptr,t,r,e)}rbAddForceAtPoint(t,r,e,s){l(r,d),l(e,d),ra(this.ptr,t,r.ptr,e.ptr,s)}rbApplyImpulseAtPoint(t,r,e,s){l(r,d),l(e,d),ea(this.ptr,t,r.ptr,e.ptr,s)}rbUserData(t){return ia(this.ptr,t)>>>0}rbSetUserData(t,r){sa(this.ptr,t,r)}constructor(){const t=aa();return M.__wrap(t)}createRigidBody(t,r,e,s,n,o,c,p,u,w,_,m,b,x,N,V,q,Z,Kr,Yr){return l(r,d),l(e,S),l(c,d),l(p,d),oa(this.ptr,t,r.ptr,e.ptr,s,n,o,c.ptr,p.ptr,u,w,_,m,b,x,N,V,q,Z,Kr,Yr)}remove(t,r,e,s,n){l(r,z),l(e,P),l(s,J),l(n,O),la(this.ptr,t,r.ptr,e.ptr,s.ptr,n.ptr)}len(){return ca(this.ptr)>>>0}contains(t){return ha(this.ptr,t)!==0}forEachRigidBodyHandle(t){try{da(this.ptr,T(t))}finally{g[E++]=void 0}}propagateModifiedBodyPositionsToColliders(t){l(t,P),pa(this.ptr,t.ptr)}}class S{static __wrap(t){const r=Object.create(S.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();zl(t)}static identity(){const t=Ol();return S.__wrap(t)}static fromAngle(t){const r=Gl(t);return S.__wrap(r)}get im(){return me(this.ptr)}get re(){return Ur(this.ptr)}get angle(){return Wl(this.ptr)}}class Qt{static __wrap(t){const r=Object.create(Qt.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();Wc(t)}constructor(){const t=Gc();return Qt.__wrap(t)}serializeAll(t,r,e,s,n,o,c,p,u){l(t,d),l(r,Y),l(e,z),l(s,K),l(n,G),l(o,M),l(c,P),l(p,J),l(u,O);const w=Bc(this.ptr,t.ptr,r.ptr,e.ptr,s.ptr,n.ptr,o.ptr,c.ptr,p.ptr,u.ptr);return zt(w)}deserializeAll(t){const r=kc(this.ptr,j(t));return r===0?void 0:Vr.__wrap(r)}}class y{static __wrap(t){const r=Object.create(y.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();_l(t)}static cuboid(t,r){const e=fl(t,r);return y.__wrap(e)}static roundCuboid(t,r,e){const s=ml(t,r,e);return y.__wrap(s)}static ball(t){const r=yl(t);return y.__wrap(r)}static halfspace(t){l(t,d);const r=bl(t.ptr);return y.__wrap(r)}static capsule(t,r){const e=gl(t,r);return y.__wrap(e)}static polyline(t,r){const e=$(t,W),s=k,n=ce(r,W),o=Sl(e,s,n,k);return y.__wrap(o)}static trimesh(t,r){const e=$(t,W),s=k,n=ce(r,W),o=Rl(e,s,n,k);return y.__wrap(o)}static heightfield(t,r){const e=$(t,W),s=k;l(r,d);const n=vl(e,s,r.ptr);return y.__wrap(n)}static segment(t,r){l(t,d),l(r,d);const e=Cl(t.ptr,r.ptr);return y.__wrap(e)}static triangle(t,r,e){l(t,d),l(r,d),l(e,d);const s=Al(t.ptr,r.ptr,e.ptr);return y.__wrap(s)}static roundTriangle(t,r,e,s){l(t,d),l(r,d),l(e,d);const n=El(t.ptr,r.ptr,e.ptr,s);return y.__wrap(n)}static convexHull(t){const r=$(t,W),e=Il(r,k);return e===0?void 0:y.__wrap(e)}static roundConvexHull(t,r){const e=$(t,W),s=Tl(e,k,r);return s===0?void 0:y.__wrap(s)}static convexPolyline(t){const r=$(t,W),e=Pl(r,k);return e===0?void 0:y.__wrap(e)}static roundConvexPolyline(t,r){const e=$(t,W),s=xl(e,k,r);return s===0?void 0:y.__wrap(s)}castShape(t,r,e,s,n,o,c,p,u){l(t,d),l(r,S),l(e,d),l(s,y),l(n,d),l(o,S),l(c,d);const w=Ml(this.ptr,t.ptr,r.ptr,e.ptr,s.ptr,n.ptr,o.ptr,c.ptr,p,u);return w===0?void 0:Zt.__wrap(w)}intersectsShape(t,r,e,s,n){return l(t,d),l(r,S),l(e,y),l(s,d),l(n,S),jl(this.ptr,t.ptr,r.ptr,e.ptr,s.ptr,n.ptr)!==0}contactShape(t,r,e,s,n,o){l(t,d),l(r,S),l(e,y),l(s,d),l(n,S);const c=Dl(this.ptr,t.ptr,r.ptr,e.ptr,s.ptr,n.ptr,o);return c===0?void 0:wt.__wrap(c)}containsPoint(t,r,e){return l(t,d),l(r,S),l(e,d),Fl(this.ptr,t.ptr,r.ptr,e.ptr)!==0}projectPoint(t,r,e,s){l(t,d),l(r,S),l(e,d);const n=Hl(this.ptr,t.ptr,r.ptr,e.ptr,s);return Xt.__wrap(n)}intersectsRay(t,r,e,s,n){return l(t,d),l(r,S),l(e,d),l(s,d),Bl(this.ptr,t.ptr,r.ptr,e.ptr,s.ptr,n)!==0}castRay(t,r,e,s,n,o){return l(t,d),l(r,S),l(e,d),l(s,d),kl(this.ptr,t.ptr,r.ptr,e.ptr,s.ptr,n,o)}castRayAndGetNormal(t,r,e,s,n,o){l(t,d),l(r,S),l(e,d),l(s,d);const c=Nl(this.ptr,t.ptr,r.ptr,e.ptr,s.ptr,n,o);return c===0?void 0:Yt.__wrap(c)}}class $t{static __wrap(t){const r=Object.create($t.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();Ll(t)}colliderHandle(){return mt(this.ptr)}toi(){return Jl(this.ptr)}witness1(){const t=tr(this.ptr);return d.__wrap(t)}witness2(){const t=yt(this.ptr);return d.__wrap(t)}normal1(){const t=ft(this.ptr);return d.__wrap(t)}normal2(){const t=he(this.ptr);return d.__wrap(t)}}class wt{static __wrap(t){const r=Object.create(wt.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();xo(t)}distance(){return rr(this.ptr)}point1(){const t=_t(this.ptr);return d.__wrap(t)}point2(){const t=tr(this.ptr);return d.__wrap(t)}normal1(){const t=yt(this.ptr);return d.__wrap(t)}normal2(){const t=ft(this.ptr);return d.__wrap(t)}}class Zt{static __wrap(t){const r=Object.create(Zt.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();Oc(t)}toi(){return rr(this.ptr)}witness1(){const t=_t(this.ptr);return d.__wrap(t)}witness2(){const t=tr(this.ptr);return d.__wrap(t)}normal1(){const t=yt(this.ptr);return d.__wrap(t)}normal2(){const t=ft(this.ptr);return d.__wrap(t)}}class d{static __wrap(t){const r=Object.create(d.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();zc(t)}static zero(){const t=Vl();return d.__wrap(t)}constructor(t,r){const e=ql(t,r);return d.__wrap(e)}get x(){return Ur(this.ptr)}set x(t){pe(this.ptr,t)}get y(){return me(this.ptr)}set y(t){Ul(this.ptr,t)}xy(){const t=Xl(this.ptr);return d.__wrap(t)}yx(){const t=Kl(this.ptr);return d.__wrap(t)}}function Ne(a){zt(a)}function Le(a){return j(a)}function Je(a,t){const r=v(t),e=typeof r=="number"?r:void 0;Ot()[a/8+1]=f(e)?0:e,I()[a/4+0]=!f(e)}function ze(a){const t=v(a);return typeof t=="boolean"?t?1:0:2}function Oe(a){return typeof v(a)=="function"}function Ge(a){const t=Kt.__wrap(a);return j(t)}function We(a){const t=Or.__wrap(a);return j(t)}function Ve(){return zr(function(a,t,r){const e=v(a).call(v(t),v(r));return j(e)},arguments)}function qe(){return zr(function(a,t,r,e){const s=v(a).call(v(t),v(r),v(e));return j(s)},arguments)}function Ue(){return zr(function(a,t,r,e,s){const n=v(a).call(v(t),v(r),v(e),v(s));return j(n)},arguments)}function Xe(a,t,r,e){const s=v(a).bind(v(t),v(r),v(e));return j(s)}function Ke(a){const t=v(a).buffer;return j(t)}function Ye(a,t,r){const e=new Uint8Array(v(a),t>>>0,r>>>0);return j(e)}function Qe(a){const t=new Uint8Array(v(a));return j(t)}function $e(a,t,r){v(a).set(v(t),r>>>0)}function Ze(a){return v(a).length}function ti(a,t,r){const e=new Float32Array(v(a),t>>>0,r>>>0);return j(e)}function ri(a,t,r){v(a).set(v(t),r>>>0)}function ei(a){return v(a).length}function ii(a){const t=new Float32Array(a>>>0);return j(t)}function si(a,t){throw new Error(ae(a,t))}function ni(){return j(st)}URL=globalThis.URL;const i=await je({"./rapier_wasm2d_bg.js":{__wbindgen_object_drop_ref:Ne,__wbindgen_number_new:Le,__wbindgen_number_get:Je,__wbindgen_boolean_get:ze,__wbindgen_is_function:Oe,__wbg_rawraycolliderintersection_new:Ge,__wbg_rawcontactforceevent_new:We,__wbg_call_168da88779e35f61:Ve,__wbg_call_3999bee59e9f7719:qe,__wbg_call_e1f72c051cdab859:Ue,__wbg_bind_10dfe70e95d2a480:Xe,__wbg_buffer_3f3d764d4747d564:Ke,__wbg_newwithbyteoffsetandlength_d9aa266703cb98be:Ye,__wbg_new_8c3f0052272a457a:Qe,__wbg_set_83db9690f9353e79:$e,__wbg_length_9e1ae1900cb0fbd5:Ze,__wbg_newwithbyteoffsetandlength_be22e5fcf4f69ab4:ti,__wbg_set_0e0314cf6675c1b9:ri,__wbg_length_9a2deed95d22668d:ei,__wbg_newwithlength_a7168e4a1e8f5e12:ii,__wbindgen_throw:si,__wbindgen_memory:ni}},Me),st=i.memory,ai=i.version,oi=i.__wbg_rawkinematiccharactercontroller_free,li=i.rawkinematiccharactercontroller_new,_t=i.rawkinematiccharactercontroller_up,ci=i.rawkinematiccharactercontroller_setUp,hi=i.rawkinematiccharactercontroller_offset,di=i.rawkinematiccharactercontroller_setOffset,pi=i.rawkinematiccharactercontroller_slideEnabled,ui=i.rawkinematiccharactercontroller_setSlideEnabled,wi=i.rawkinematiccharactercontroller_autostepMaxHeight,_i=i.rawkinematiccharactercontroller_autostepMinWidth,fi=i.rawkinematiccharactercontroller_autostepIncludesDynamicBodies,mi=i.rawkinematiccharactercontroller_autostepEnabled,yi=i.rawkinematiccharactercontroller_enableAutostep,bi=i.rawkinematiccharactercontroller_disableAutostep,gi=i.rawkinematiccharactercontroller_minSlopeSlideAngle,Si=i.rawkinematiccharactercontroller_setMinSlopeSlideAngle,Ri=i.rawkinematiccharactercontroller_snapToGroundDistance,vi=i.rawkinematiccharactercontroller_enableSnapToGround,Ci=i.rawkinematiccharactercontroller_disableSnapToGround,Ai=i.rawkinematiccharactercontroller_snapToGroundEnabled,Ei=i.rawkinematiccharactercontroller_computeColliderMovement,Ii=i.rawkinematiccharactercontroller_computedMovement,Ti=i.rawkinematiccharactercontroller_computedGrounded,Pi=i.rawkinematiccharactercontroller_numComputedCollisions,xi=i.rawkinematiccharactercontroller_computedCollision,Mi=i.__wbg_rawcharactercollision_free,ji=i.rawcharactercollision_new,Di=i.rawcharactercollision_handle,ft=i.rawcharactercollision_translationApplied,he=i.rawcharactercollision_translationRemaining,Fi=i.rawcharactercollision_toi,Hi=i.rawcharactercollision_worldWitness1,Bi=i.rawcharactercollision_worldWitness2,ki=i.rawcharactercollision_worldNormal1,Ni=i.rawcharactercollision_worldNormal2,Li=i.__wbg_rawccdsolver_free,Ji=i.rawccdsolver_new,zi=i.rawimpulsejointset_jointType,Oi=i.rawimpulsejointset_jointBodyHandle1,Gi=i.rawimpulsejointset_jointBodyHandle2,Wi=i.rawimpulsejointset_jointFrameX1,Vi=i.rawimpulsejointset_jointFrameX2,qi=i.rawimpulsejointset_jointAnchor1,Ui=i.rawimpulsejointset_jointAnchor2,Xi=i.rawimpulsejointset_jointSetAnchor1,Ki=i.rawimpulsejointset_jointSetAnchor2,Yi=i.rawimpulsejointset_jointContactsEnabled,Qi=i.rawimpulsejointset_jointSetContactsEnabled,$i=i.rawimpulsejointset_jointLimitsEnabled,Zi=i.rawimpulsejointset_jointLimitsMin,ts=i.rawimpulsejointset_jointLimitsMax,rs=i.rawimpulsejointset_jointSetLimits,es=i.rawimpulsejointset_jointConfigureMotorModel,is=i.rawimpulsejointset_jointConfigureMotorVelocity,ss=i.rawimpulsejointset_jointConfigureMotorPosition,ns=i.rawimpulsejointset_jointConfigureMotor,as=i.__wbg_rawimpulsejointset_free,os=i.rawimpulsejointset_new,ls=i.rawimpulsejointset_createJoint,cs=i.rawimpulsejointset_remove,hs=i.rawimpulsejointset_len,ds=i.rawimpulsejointset_contains,ps=i.rawimpulsejointset_forEachJointHandle,us=i.rawimpulsejointset_forEachJointAttachedToRigidBody,ws=i.__wbg_rawintegrationparameters_free,_s=i.rawintegrationparameters_new,Ur=i.rawintegrationparameters_dt,de=i.rawintegrationparameters_erp,Xr=i.rawintegrationparameters_allowedLinearError,fs=i.rawintegrationparameters_maxVelocityIterations,ms=i.rawintegrationparameters_maxVelocityFrictionIterations,ys=i.rawintegrationparameters_maxStabilizationIterations,bs=i.rawintegrationparameters_minIslandSize,gs=i.rawintegrationparameters_maxCcdSubsteps,pe=i.rawintegrationparameters_set_dt,Ss=i.rawintegrationparameters_set_erp,ue=i.rawintegrationparameters_set_allowedLinearError,Rs=i.rawintegrationparameters_set_predictionDistance,vs=i.rawintegrationparameters_set_maxVelocityIterations,Cs=i.rawintegrationparameters_set_maxVelocityFrictionIterations,As=i.rawintegrationparameters_set_maxStabilizationIterations,Es=i.rawintegrationparameters_set_minIslandSize,Is=i.rawintegrationparameters_set_maxCcdSubsteps,Ts=i.__wbg_rawislandmanager_free,Ps=i.rawislandmanager_new,xs=i.rawislandmanager_forEachActiveRigidBodyHandle,Ms=i.__wbg_rawgenericjoint_free,js=i.rawgenericjoint_prismatic,Ds=i.rawgenericjoint_fixed,Fs=i.rawgenericjoint_revolute,Hs=i.rawmultibodyjointset_jointType,Bs=i.rawmultibodyjointset_jointFrameX1,ks=i.rawmultibodyjointset_jointFrameX2,Ns=i.rawmultibodyjointset_jointAnchor1,Ls=i.rawmultibodyjointset_jointAnchor2,Js=i.rawmultibodyjointset_jointContactsEnabled,zs=i.rawmultibodyjointset_jointSetContactsEnabled,Os=i.rawmultibodyjointset_jointLimitsEnabled,Gs=i.rawmultibodyjointset_jointLimitsMin,Ws=i.rawmultibodyjointset_jointLimitsMax,Vs=i.__wbg_rawmultibodyjointset_free,qs=i.rawmultibodyjointset_new,Us=i.rawmultibodyjointset_createJoint,Xs=i.rawmultibodyjointset_remove,Ks=i.rawmultibodyjointset_contains,Ys=i.rawmultibodyjointset_forEachJointHandle,Qs=i.rawmultibodyjointset_forEachJointAttachedToRigidBody,$s=i.rawrigidbodyset_rbTranslation,Zs=i.rawrigidbodyset_rbRotation,tn=i.rawrigidbodyset_rbSleep,rn=i.rawrigidbodyset_rbIsSleeping,en=i.rawrigidbodyset_rbIsMoving,sn=i.rawrigidbodyset_rbNextTranslation,nn=i.rawrigidbodyset_rbNextRotation,an=i.rawrigidbodyset_rbSetTranslation,on=i.rawrigidbodyset_rbSetRotation,ln=i.rawrigidbodyset_rbSetLinvel,cn=i.rawrigidbodyset_rbSetAngvel,hn=i.rawrigidbodyset_rbSetNextKinematicTranslation,dn=i.rawrigidbodyset_rbSetNextKinematicRotation,pn=i.rawrigidbodyset_rbRecomputeMassPropertiesFromColliders,un=i.rawrigidbodyset_rbSetAdditionalMass,wn=i.rawrigidbodyset_rbSetAdditionalMassProperties,_n=i.rawrigidbodyset_rbLinvel,fn=i.rawrigidbodyset_rbAngvel,mn=i.rawrigidbodyset_rbLockTranslations,yn=i.rawrigidbodyset_rbSetEnabledTranslations,bn=i.rawrigidbodyset_rbLockRotations,gn=i.rawrigidbodyset_rbDominanceGroup,Sn=i.rawrigidbodyset_rbSetDominanceGroup,Rn=i.rawrigidbodyset_rbEnableCcd,vn=i.rawrigidbodyset_rbMass,Cn=i.rawrigidbodyset_rbInvMass,An=i.rawrigidbodyset_rbEffectiveInvMass,En=i.rawrigidbodyset_rbLocalCom,In=i.rawrigidbodyset_rbWorldCom,Tn=i.rawrigidbodyset_rbInvPrincipalInertiaSqrt,Pn=i.rawrigidbodyset_rbPrincipalInertia,xn=i.rawrigidbodyset_rbEffectiveWorldInvInertiaSqrt,Mn=i.rawrigidbodyset_rbEffectiveAngularInertia,jn=i.rawrigidbodyset_rbWakeUp,Dn=i.rawrigidbodyset_rbIsCcdEnabled,Fn=i.rawrigidbodyset_rbNumColliders,Hn=i.rawrigidbodyset_rbCollider,Bn=i.rawrigidbodyset_rbBodyType,kn=i.rawrigidbodyset_rbSetBodyType,Nn=i.rawrigidbodyset_rbIsFixed,Ln=i.rawrigidbodyset_rbIsKinematic,Jn=i.rawrigidbodyset_rbIsDynamic,zn=i.rawrigidbodyset_rbLinearDamping,On=i.rawrigidbodyset_rbAngularDamping,Gn=i.rawrigidbodyset_rbSetLinearDamping,Wn=i.rawrigidbodyset_rbSetAngularDamping,Vn=i.rawrigidbodyset_rbSetEnabled,qn=i.rawrigidbodyset_rbIsEnabled,Un=i.rawrigidbodyset_rbGravityScale,Xn=i.rawrigidbodyset_rbSetGravityScale,Kn=i.rawrigidbodyset_rbResetForces,Yn=i.rawrigidbodyset_rbResetTorques,Qn=i.rawrigidbodyset_rbAddForce,$n=i.rawrigidbodyset_rbApplyImpulse,Zn=i.rawrigidbodyset_rbAddTorque,ta=i.rawrigidbodyset_rbApplyTorqueImpulse,ra=i.rawrigidbodyset_rbAddForceAtPoint,ea=i.rawrigidbodyset_rbApplyImpulseAtPoint,ia=i.rawrigidbodyset_rbUserData,sa=i.rawrigidbodyset_rbSetUserData,na=i.__wbg_rawrigidbodyset_free,aa=i.rawrigidbodyset_new,oa=i.rawrigidbodyset_createRigidBody,la=i.rawrigidbodyset_remove,ca=i.rawrigidbodyset_len,ha=i.rawrigidbodyset_contains,da=i.rawrigidbodyset_forEachRigidBodyHandle,pa=i.rawrigidbodyset_propagateModifiedBodyPositionsToColliders,ua=i.__wbg_rawbroadphase_free,wa=i.rawbroadphase_new,_a=i.rawcolliderset_coTranslation,fa=i.rawcolliderset_coRotation,ma=i.rawcolliderset_coSetTranslation,ya=i.rawcolliderset_coSetTranslationWrtParent,ba=i.rawcolliderset_coSetRotation,ga=i.rawcolliderset_coSetRotationWrtParent,Sa=i.rawcolliderset_coIsSensor,Ra=i.rawcolliderset_coShapeType,va=i.rawcolliderset_coHalfspaceNormal,Ca=i.rawcolliderset_coHalfExtents,Aa=i.rawcolliderset_coSetHalfExtents,Ea=i.rawcolliderset_coRadius,Ia=i.rawcolliderset_coSetRadius,Ta=i.rawcolliderset_coHalfHeight,Pa=i.rawcolliderset_coSetHalfHeight,xa=i.rawcolliderset_coRoundRadius,Ma=i.rawcolliderset_coSetRoundRadius,ja=i.rawcolliderset_coVertices,Da=i.rawcolliderset_coIndices,Fa=i.rawcolliderset_coHeightfieldHeights,Ha=i.rawcolliderset_coHeightfieldScale,Ba=i.rawcolliderset_coParent,ka=i.rawcolliderset_coSetEnabled,Na=i.rawcolliderset_coIsEnabled,La=i.rawcolliderset_coFriction,Ja=i.rawcolliderset_coRestitution,za=i.rawcolliderset_coDensity,Oa=i.rawcolliderset_coMass,Ga=i.rawcolliderset_coVolume,Wa=i.rawcolliderset_coCollisionGroups,Va=i.rawcolliderset_coSolverGroups,qa=i.rawcolliderset_coActiveHooks,Ua=i.rawcolliderset_coActiveCollisionTypes,Xa=i.rawcolliderset_coActiveEvents,Ka=i.rawcolliderset_coContactForceEventThreshold,Ya=i.rawcolliderset_coContainsPoint,Qa=i.rawcolliderset_coCastShape,$a=i.rawcolliderset_coCastCollider,Za=i.rawcolliderset_coIntersectsShape,to=i.rawcolliderset_coContactShape,ro=i.rawcolliderset_coContactCollider,eo=i.rawcolliderset_coProjectPoint,io=i.rawcolliderset_coIntersectsRay,so=i.rawcolliderset_coCastRay,no=i.rawcolliderset_coCastRayAndGetNormal,ao=i.rawcolliderset_coSetSensor,oo=i.rawcolliderset_coSetRestitution,lo=i.rawcolliderset_coSetFriction,co=i.rawcolliderset_coFrictionCombineRule,ho=i.rawcolliderset_coSetFrictionCombineRule,po=i.rawcolliderset_coRestitutionCombineRule,uo=i.rawcolliderset_coSetRestitutionCombineRule,wo=i.rawcolliderset_coSetCollisionGroups,_o=i.rawcolliderset_coSetSolverGroups,fo=i.rawcolliderset_coSetActiveHooks,mo=i.rawcolliderset_coSetActiveEvents,yo=i.rawcolliderset_coSetActiveCollisionTypes,bo=i.rawcolliderset_coSetShape,go=i.rawcolliderset_coSetContactForceEventThreshold,So=i.rawcolliderset_coSetDensity,Ro=i.rawcolliderset_coSetMass,vo=i.rawcolliderset_coSetMassProperties,Co=i.__wbg_rawcolliderset_free,Ao=i.rawcolliderset_new,Eo=i.rawcolliderset_len,we=i.rawcolliderset_contains,Io=i.rawcolliderset_createCollider,To=i.rawcolliderset_remove,Po=i.rawcolliderset_forEachColliderHandle,xo=i.__wbg_rawshapecontact_free,Mo=i.__wbg_rawnarrowphase_free,jo=i.rawnarrowphase_new,Do=i.rawnarrowphase_contacts_with,Fo=i.rawnarrowphase_contact_pair,Ho=i.rawnarrowphase_intersections_with,Bo=i.rawnarrowphase_intersection_pair,ko=i.__wbg_rawcontactmanifold_free,No=i.rawcontactpair_collider1,Lo=i.rawcontactpair_collider2,Jo=i.rawcontactpair_numContactManifolds,zo=i.rawcontactpair_contactManifold,Oo=i.rawcontactmanifold_normal,Go=i.rawcontactmanifold_local_n1,Wo=i.rawcontactmanifold_local_n2,Vo=i.rawcontactmanifold_subshape1,qo=i.rawcontactmanifold_subshape2,Uo=i.rawcontactmanifold_num_contacts,Xo=i.rawcontactmanifold_contact_local_p1,Ko=i.rawcontactmanifold_contact_local_p2,Yo=i.rawcontactmanifold_contact_dist,Qo=i.rawcontactmanifold_contact_fid1,$o=i.rawcontactmanifold_contact_fid2,Zo=i.rawcontactmanifold_contact_impulse,tl=i.rawcontactmanifold_contact_tangent_impulse,rl=i.rawcontactmanifold_num_solver_contacts,el=i.rawcontactmanifold_solver_contact_point,il=i.rawcontactmanifold_solver_contact_dist,sl=i.rawcontactmanifold_solver_contact_friction,nl=i.rawcontactmanifold_solver_contact_restitution,al=i.rawcontactmanifold_solver_contact_tangent_velocity,ol=i.__wbg_rawpointprojection_free,ll=i.rawpointprojection_isInside,cl=i.__wbg_rawpointcolliderprojection_free,hl=i.rawpointcolliderprojection_isInside,_e=i.rawpointcolliderprojection_featureType,fe=i.rawpointcolliderprojection_featureId,dl=i.__wbg_rawrayintersection_free,pl=i.rawrayintersection_toi,tr=i.rawraycolliderintersection_normal,ul=i.rawraycolliderintersection_featureType,wl=i.rawraycolliderintersection_featureId,_l=i.__wbg_rawshape_free,fl=i.rawshape_cuboid,ml=i.rawshape_roundCuboid,yl=i.rawshape_ball,bl=i.rawshape_halfspace,gl=i.rawshape_capsule,Sl=i.rawshape_polyline,Rl=i.rawshape_trimesh,vl=i.rawshape_heightfield,Cl=i.rawshape_segment,Al=i.rawshape_triangle,El=i.rawshape_roundTriangle,Il=i.rawshape_convexHull,Tl=i.rawshape_roundConvexHull,Pl=i.rawshape_convexPolyline,xl=i.rawshape_roundConvexPolyline,Ml=i.rawshape_castShape,jl=i.rawshape_intersectsShape,Dl=i.rawshape_contactShape,Fl=i.rawshape_containsPoint,Hl=i.rawshape_projectPoint,Bl=i.rawshape_intersectsRay,kl=i.rawshape_castRay,Nl=i.rawshape_castRayAndGetNormal,Ll=i.__wbg_rawshapecollidertoi_free,Jl=i.rawshapecollidertoi_toi,zl=i.__wbg_rawrotation_free,Ol=i.rawrotation_identity,Gl=i.rawrotation_fromAngle,me=i.rawrotation_im,Wl=i.rawrotation_angle,Vl=i.rawvector_zero,ql=i.rawvector_new,Ul=i.rawvector_set_y,Xl=i.rawvector_xy,Kl=i.rawvector_yx,Yl=i.__wbg_rawdebugrenderpipeline_free,Ql=i.rawdebugrenderpipeline_new,$l=i.rawdebugrenderpipeline_vertices,Zl=i.rawdebugrenderpipeline_colors,tc=i.rawdebugrenderpipeline_render,rc=i.__wbg_raweventqueue_free,ec=i.__wbg_rawcontactforceevent_free,mt=i.rawcontactforceevent_collider1,ic=i.rawcontactforceevent_collider2,yt=i.rawcontactforceevent_total_force,rr=i.rawcontactforceevent_total_force_magnitude,sc=i.rawcontactforceevent_max_force_magnitude,nc=i.raweventqueue_new,ac=i.raweventqueue_drainCollisionEvents,oc=i.raweventqueue_drainContactForceEvents,lc=i.raweventqueue_clear,cc=i.__wbg_rawphysicspipeline_free,hc=i.rawphysicspipeline_new,dc=i.rawphysicspipeline_step,pc=i.rawphysicspipeline_stepWithEvents,uc=i.__wbg_rawquerypipeline_free,wc=i.rawquerypipeline_new,_c=i.rawquerypipeline_update,fc=i.rawquerypipeline_castRay,mc=i.rawquerypipeline_castRayAndGetNormal,yc=i.rawquerypipeline_intersectionsWithRay,bc=i.rawquerypipeline_intersectionWithShape,gc=i.rawquerypipeline_projectPoint,Sc=i.rawquerypipeline_projectPointAndGetFeature,Rc=i.rawquerypipeline_intersectionsWithPoint,vc=i.rawquerypipeline_castShape,Cc=i.rawquerypipeline_intersectionsWithShape,Ac=i.rawquerypipeline_collidersWithAabbIntersectingAabb,Ec=i.__wbg_rawdeserializedworld_free,Ic=i.rawdeserializedworld_takeGravity,Tc=i.rawdeserializedworld_takeIntegrationParameters,Pc=i.rawdeserializedworld_takeIslandManager,xc=i.rawdeserializedworld_takeBroadPhase,Mc=i.rawdeserializedworld_takeNarrowPhase,jc=i.rawdeserializedworld_takeBodies,Dc=i.rawdeserializedworld_takeColliders,Fc=i.rawdeserializedworld_takeImpulseJoints,Hc=i.rawdeserializedworld_takeMultibodyJoints,Bc=i.rawserializationpipeline_serializeAll,kc=i.rawserializationpipeline_deserializeAll,Nc=i.__wbg_rawcontactpair_free,Lc=i.__wbg_rawraycolliderintersection_free,Jc=i.__wbg_rawraycollidertoi_free,zc=i.__wbg_rawvector_free,Oc=i.__wbg_rawshapetoi_free;i.rawkinematiccharactercontroller_setMaxSlopeClimbAngle,i.rawvector_set_x,i.rawcolliderset_isHandleValid,i.rawrayintersection_featureType,i.rawrayintersection_featureId,i.rawshapecontact_point1,i.rawshapecontact_normal2,i.rawpointprojection_point,i.rawshapecontact_normal1,i.rawrayintersection_normal,i.rawshapecontact_point2,i.rawshapetoi_witness1,i.rawshapetoi_witness2,i.rawshapetoi_normal1,i.rawshapetoi_normal2,i.rawshapecollidertoi_witness1,i.rawshapecollidertoi_witness2,i.rawshapecollidertoi_normal1,i.rawshapecollidertoi_normal2,i.rawpointcolliderprojection_point,i.rawcontactforceevent_max_force_direction;const Gc=i.rawserializationpipeline_new;i.rawkinematiccharactercontroller_maxSlopeClimbAngle,i.rawshapecontact_distance,i.rawraycolliderintersection_toi,i.rawraycollidertoi_toi,i.rawshapetoi_toi,i.rawrotation_re,i.rawvector_x,i.rawvector_y,i.rawintegrationparameters_predictionDistance,i.rawraycolliderintersection_colliderHandle,i.rawraycollidertoi_colliderHandle,i.rawshapecollidertoi_colliderHandle,i.rawpointcolliderprojection_colliderHandle;const Wc=i.__wbg_rawserializationpipeline_free,R=i.__wbindgen_add_to_stack_pointer,er=i.__wbindgen_free,W=i.__wbindgen_malloc,Vc=i.__wbindgen_exn_store;Dr=class{constructor(t,r){this.x=t,this.y=r}},h=class se{static new(t,r){return new Dr(t,r)}static zeros(){return se.new(0,0)}static fromRaw(t){if(!t)return null;let r=se.new(t.x,t.y);return t.free(),r}static intoRaw(t){return new d(t.x,t.y)}static copy(t,r){t.x=r.x,t.y=r.y}},A=class{static identity(){return 0}static fromRaw(t){if(!t)return null;let r=t.angle;return t.free(),r}static intoRaw(t){return S.fromAngle(t)}},function(a){a[a.Dynamic=0]="Dynamic",a[a.Fixed=1]="Fixed",a[a.KinematicPositionBased=2]="KinematicPositionBased",a[a.KinematicVelocityBased=3]="KinematicVelocityBased"}(B||(B={})),Mt=class{constructor(t,r,e){this.rawSet=t,this.colliderSet=r,this.handle=e}finalizeDeserialization(t){this.colliderSet=t}isValid(){return this.rawSet.contains(this.handle)}lockTranslations(t,r){return this.rawSet.rbLockTranslations(this.handle,t,r)}lockRotations(t,r){return this.rawSet.rbLockRotations(this.handle,t,r)}setEnabledTranslations(t,r,e){return this.rawSet.rbSetEnabledTranslations(this.handle,t,r,e)}restrictTranslations(t,r,e){this.setEnabledTranslations(t,t,e)}dominanceGroup(){return this.rawSet.rbDominanceGroup(this.handle)}setDominanceGroup(t){this.rawSet.rbSetDominanceGroup(this.handle,t)}enableCcd(t){this.rawSet.rbEnableCcd(this.handle,t)}translation(){let t=this.rawSet.rbTranslation(this.handle);return h.fromRaw(t)}rotation(){let t=this.rawSet.rbRotation(this.handle);return A.fromRaw(t)}nextTranslation(){let t=this.rawSet.rbNextTranslation(this.handle);return h.fromRaw(t)}nextRotation(){let t=this.rawSet.rbNextRotation(this.handle);return A.fromRaw(t)}setTranslation(t,r){this.rawSet.rbSetTranslation(this.handle,t.x,t.y,r)}setLinvel(t,r){let e=h.intoRaw(t);this.rawSet.rbSetLinvel(this.handle,e,r),e.free()}gravityScale(){return this.rawSet.rbGravityScale(this.handle)}setGravityScale(t,r){this.rawSet.rbSetGravityScale(this.handle,t,r)}setRotation(t,r){this.rawSet.rbSetRotation(this.handle,t,r)}setAngvel(t,r){this.rawSet.rbSetAngvel(this.handle,t,r)}setNextKinematicTranslation(t){this.rawSet.rbSetNextKinematicTranslation(this.handle,t.x,t.y)}setNextKinematicRotation(t){this.rawSet.rbSetNextKinematicRotation(this.handle,t)}linvel(){return h.fromRaw(this.rawSet.rbLinvel(this.handle))}angvel(){return this.rawSet.rbAngvel(this.handle)}mass(){return this.rawSet.rbMass(this.handle)}effectiveInvMass(){return h.fromRaw(this.rawSet.rbEffectiveInvMass(this.handle))}invMass(){return this.rawSet.rbInvMass(this.handle)}localCom(){return h.fromRaw(this.rawSet.rbLocalCom(this.handle))}worldCom(){return h.fromRaw(this.rawSet.rbWorldCom(this.handle))}invPrincipalInertiaSqrt(){return this.rawSet.rbInvPrincipalInertiaSqrt(this.handle)}principalInertia(){return this.rawSet.rbPrincipalInertia(this.handle)}effectiveWorldInvInertiaSqrt(){return this.rawSet.rbEffectiveWorldInvInertiaSqrt(this.handle)}effectiveAngularInertia(){return this.rawSet.rbEffectiveAngularInertia(this.handle)}sleep(){this.rawSet.rbSleep(this.handle)}wakeUp(){this.rawSet.rbWakeUp(this.handle)}isCcdEnabled(){return this.rawSet.rbIsCcdEnabled(this.handle)}numColliders(){return this.rawSet.rbNumColliders(this.handle)}collider(t){return this.colliderSet.get(this.rawSet.rbCollider(this.handle,t))}setEnabled(t){this.rawSet.rbSetEnabled(this.handle,t)}isEnabled(){return this.rawSet.rbIsEnabled(this.handle)}bodyType(){return this.rawSet.rbBodyType(this.handle)}setBodyType(t,r){return this.rawSet.rbSetBodyType(this.handle,t,r)}isSleeping(){return this.rawSet.rbIsSleeping(this.handle)}isMoving(){return this.rawSet.rbIsMoving(this.handle)}isFixed(){return this.rawSet.rbIsFixed(this.handle)}isKinematic(){return this.rawSet.rbIsKinematic(this.handle)}isDynamic(){return this.rawSet.rbIsDynamic(this.handle)}linearDamping(){return this.rawSet.rbLinearDamping(this.handle)}angularDamping(){return this.rawSet.rbAngularDamping(this.handle)}setLinearDamping(t){this.rawSet.rbSetLinearDamping(this.handle,t)}recomputeMassPropertiesFromColliders(){this.rawSet.rbRecomputeMassPropertiesFromColliders(this.handle,this.colliderSet.raw)}setAdditionalMass(t,r){this.rawSet.rbSetAdditionalMass(this.handle,t,r)}setAdditionalMassProperties(t,r,e,s){let n=h.intoRaw(r);this.rawSet.rbSetAdditionalMassProperties(this.handle,t,n,e,s),n.free()}setAngularDamping(t){this.rawSet.rbSetAngularDamping(this.handle,t)}resetForces(t){this.rawSet.rbResetForces(this.handle,t)}resetTorques(t){this.rawSet.rbResetTorques(this.handle,t)}addForce(t,r){const e=h.intoRaw(t);this.rawSet.rbAddForce(this.handle,e,r),e.free()}applyImpulse(t,r){const e=h.intoRaw(t);this.rawSet.rbApplyImpulse(this.handle,e,r),e.free()}addTorque(t,r){this.rawSet.rbAddTorque(this.handle,t,r)}applyTorqueImpulse(t,r){this.rawSet.rbApplyTorqueImpulse(this.handle,t,r)}addForceAtPoint(t,r,e){const s=h.intoRaw(t),n=h.intoRaw(r);this.rawSet.rbAddForceAtPoint(this.handle,s,n,e),s.free(),n.free()}applyImpulseAtPoint(t,r,e){const s=h.intoRaw(t),n=h.intoRaw(r);this.rawSet.rbApplyImpulseAtPoint(this.handle,s,n,e),s.free(),n.free()}},ee=class U{constructor(t){this.enabled=!0,this.status=t,this.translation=h.zeros(),this.rotation=A.identity(),this.gravityScale=1,this.linvel=h.zeros(),this.mass=0,this.massOnly=!1,this.centerOfMass=h.zeros(),this.translationsEnabledX=!0,this.translationsEnabledY=!0,this.angvel=0,this.principalAngularInertia=0,this.rotationsEnabled=!0,this.linearDamping=0,this.angularDamping=0,this.canSleep=!0,this.sleeping=!1,this.ccdEnabled=!1,this.dominanceGroup=0}static dynamic(){return new U(B.Dynamic)}static kinematicPositionBased(){return new U(B.KinematicPositionBased)}static kinematicVelocityBased(){return new U(B.KinematicVelocityBased)}static fixed(){return new U(B.Fixed)}static newDynamic(){return new U(B.Dynamic)}static newKinematicPositionBased(){return new U(B.KinematicPositionBased)}static newKinematicVelocityBased(){return new U(B.KinematicVelocityBased)}static newStatic(){return new U(B.Fixed)}setDominanceGroup(t){return this.dominanceGroup=t,this}setEnabled(t){return this.enabled=t,this}setTranslation(t,r){if(typeof t!="number"||typeof r!="number")throw TypeError("The translation components must be numbers.");return this.translation={x:t,y:r},this}setRotation(t){return this.rotation=t,this}setGravityScale(t){return this.gravityScale=t,this}setAdditionalMass(t){return this.mass=t,this.massOnly=!0,this}setLinvel(t,r){if(typeof t!="number"||typeof r!="number")throw TypeError("The linvel components must be numbers.");return this.linvel={x:t,y:r},this}setAngvel(t){return this.angvel=t,this}setAdditionalMassProperties(t,r,e){return this.mass=t,h.copy(this.centerOfMass,r),this.principalAngularInertia=e,this.massOnly=!1,this}enabledTranslations(t,r){return this.translationsEnabledX=t,this.translationsEnabledY=r,this}restrictTranslations(t,r){return this.enabledTranslations(t,r)}lockTranslations(){return this.restrictTranslations(!1,!1)}lockRotations(){return this.rotationsEnabled=!1,this}setLinearDamping(t){return this.linearDamping=t,this}setAngularDamping(t){return this.angularDamping=t,this}setCanSleep(t){return this.canSleep=t,this}setSleeping(t){return this.sleeping=t,this}setCcdEnabled(t){return this.ccdEnabled=t,this}setUserData(t){return this.userData=t,this}};class ir{constructor(){this.fconv=new Float64Array(1),this.uconv=new Uint32Array(this.fconv.buffer),this.data=new Array,this.size=0}set(t,r){let e=this.index(t);for(;this.data.length<=e;)this.data.push(null);this.data[e]==null&&(this.size+=1),this.data[e]=r}len(){return this.size}delete(t){let r=this.index(t);r<this.data.length&&(this.data[r]!=null&&(this.size-=1),this.data[r]=null)}clear(){this.data=new Array}get(t){let r=this.index(t);return r<this.data.length?this.data[r]:null}forEach(t){for(const r of this.data)r!=null&&t(r)}getAll(){return this.data.filter(t=>t!=null)}index(t){return this.fconv[0]=t,this.uconv[0]}}Pr=class{constructor(t){this.raw=t||new M,this.map=new ir,t&&t.forEachRigidBodyHandle(r=>{this.map.set(r,new Mt(t,null,r))})}free(){this.raw&&this.raw.free(),this.raw=void 0,this.map&&this.map.clear(),this.map=void 0}finalizeDeserialization(t){this.map.forEach(r=>r.finalizeDeserialization(t))}createRigidBody(t,r){let e=h.intoRaw(r.translation),s=A.intoRaw(r.rotation),n=h.intoRaw(r.linvel),o=h.intoRaw(r.centerOfMass),c=this.raw.createRigidBody(r.enabled,e,s,r.gravityScale,r.mass,r.massOnly,o,n,r.angvel,r.principalAngularInertia,r.translationsEnabledX,r.translationsEnabledY,r.rotationsEnabled,r.linearDamping,r.angularDamping,r.status,r.canSleep,r.sleeping,r.ccdEnabled,r.dominanceGroup);e.free(),s.free(),n.free(),o.free();const p=new Mt(this.raw,t,c);return p.userData=r.userData,this.map.set(c,p),p}remove(t,r,e,s,n){for(let o=0;o<this.raw.rbNumColliders(t);o+=1)e.unmap(this.raw.rbCollider(t,o));s.forEachJointHandleAttachedToRigidBody(t,o=>s.unmap(o)),n.forEachJointHandleAttachedToRigidBody(t,o=>n.unmap(o)),this.raw.remove(t,r.raw,e.raw,s.raw,n.raw),this.map.delete(t)}len(){return this.map.len()}contains(t){return this.get(t)!=null}get(t){return this.map.get(t)}forEach(t){this.map.forEach(t)}forEachActiveRigidBody(t,r){t.forEachActiveRigidBodyHandle(e=>{r(this.get(e))})}getAll(){return this.map.getAll()}},_r=class{constructor(t){this.raw=t||new Y}free(){this.raw&&this.raw.free(),this.raw=void 0}get dt(){return this.raw.dt}get erp(){return this.raw.erp}get allowedLinearError(){return this.raw.allowedLinearError}get predictionDistance(){return this.raw.predictionDistance}get maxVelocityIterations(){return this.raw.maxVelocityIterations}get maxVelocityFrictionIterations(){return this.raw.maxVelocityFrictionIterations}get maxStabilizationIterations(){return this.raw.maxStabilizationIterations}get minIslandSize(){return this.raw.minIslandSize}get maxCcdSubsteps(){return this.raw.maxCcdSubsteps}set dt(t){this.raw.dt=t}set erp(t){this.raw.erp=t}set allowedLinearError(t){this.raw.allowedLinearError=t}set predictionDistance(t){this.raw.predictionDistance=t}set maxVelocityIterations(t){this.raw.maxVelocityIterations=t}set maxVelocityFrictionIterations(t){this.raw.maxVelocityFrictionIterations=t}set maxStabilizationIterations(t){this.raw.maxStabilizationIterations=t}set minIslandSize(t){this.raw.minIslandSize=t}set maxCcdSubsteps(t){this.raw.maxCcdSubsteps=t}},function(a){a[a.Revolute=0]="Revolute",a[a.Fixed=1]="Fixed",a[a.Prismatic=2]="Prismatic"}(F||(F={})),function(a){a[a.AccelerationBased=0]="AccelerationBased",a[a.ForceBased=1]="ForceBased"}(yr||(yr={})),rt=class ge{constructor(t,r,e){this.rawSet=t,this.bodySet=r,this.handle=e}static newTyped(t,r,e){switch(t.jointType(e)){case F.Revolute:return new Ir(t,r,e);case F.Prismatic:return new Rr(t,r,e);case F.Fixed:return new pr(t,r,e);default:return new ge(t,r,e)}}finalizeDeserialization(t){this.bodySet=t}isValid(){return this.rawSet.contains(this.handle)}body1(){return this.bodySet.get(this.rawSet.jointBodyHandle1(this.handle))}body2(){return this.bodySet.get(this.rawSet.jointBodyHandle2(this.handle))}type(){return this.rawSet.jointType(this.handle)}anchor1(){return h.fromRaw(this.rawSet.jointAnchor1(this.handle))}anchor2(){return h.fromRaw(this.rawSet.jointAnchor2(this.handle))}setAnchor1(t){const r=h.intoRaw(t);this.rawSet.jointSetAnchor1(this.handle,r),r.free()}setAnchor2(t){const r=h.intoRaw(t);this.rawSet.jointSetAnchor2(this.handle,r),r.free()}setContactsEnabled(t){this.rawSet.jointSetContactsEnabled(this.handle,t)}contactsEnabled(){return this.rawSet.jointContactsEnabled(this.handle)}},Lt=class extends rt{limitsEnabled(){return this.rawSet.jointLimitsEnabled(this.handle,this.rawAxis())}limitsMin(){return this.rawSet.jointLimitsMin(this.handle,this.rawAxis())}limitsMax(){return this.rawSet.jointLimitsMax(this.handle,this.rawAxis())}setLimits(t,r){this.rawSet.jointSetLimits(this.handle,this.rawAxis(),t,r)}configureMotorModel(t){this.rawSet.jointConfigureMotorModel(this.handle,this.rawAxis(),t)}configureMotorVelocity(t,r){this.rawSet.jointConfigureMotorVelocity(this.handle,this.rawAxis(),t,r)}configureMotorPosition(t,r,e){this.rawSet.jointConfigureMotorPosition(this.handle,this.rawAxis(),t,r,e)}configureMotor(t,r,e,s){this.rawSet.jointConfigureMotor(this.handle,this.rawAxis(),t,r,e,s)}},pr=class extends rt{},Rr=class extends Lt{rawAxis(){return Gt.X}},Ir=class extends Lt{rawAxis(){return Gt.AngX}},te=class Hr{constructor(){}static fixed(t,r,e,s){let n=new Hr;return n.anchor1=t,n.anchor2=e,n.frame1=r,n.frame2=s,n.jointType=F.Fixed,n}static revolute(t,r){let e=new Hr;return e.anchor1=t,e.anchor2=r,e.jointType=F.Revolute,e}static prismatic(t,r,e){let s=new Hr;return s.anchor1=t,s.anchor2=r,s.axis=e,s.jointType=F.Prismatic,s}intoRaw(){let t=h.intoRaw(this.anchor1),r=h.intoRaw(this.anchor2),e,s,n=!1,o=0,c=0;switch(this.jointType){case F.Fixed:let p=A.intoRaw(this.frame1),u=A.intoRaw(this.frame2);s=L.fixed(t,p,r,u),p.free(),u.free();break;case F.Prismatic:e=h.intoRaw(this.axis),this.limitsEnabled&&(n=!0,o=this.limits[0],c=this.limits[1]),s=L.prismatic(t,r,e,n,o,c),e.free();break;case F.Revolute:s=L.revolute(t,r);break}return t.free(),r.free(),s}},wr=class{constructor(t){this.raw=t||new J,this.map=new ir,t&&t.forEachJointHandle(r=>{this.map.set(r,rt.newTyped(t,null,r))})}free(){this.raw&&this.raw.free(),this.raw=void 0,this.map&&this.map.clear(),this.map=void 0}finalizeDeserialization(t){this.map.forEach(r=>r.finalizeDeserialization(t))}createJoint(t,r,e,s,n){const o=r.intoRaw(),c=this.raw.createJoint(o,e,s,n);o.free();let p=rt.newTyped(this.raw,t,c);return this.map.set(c,p),p}remove(t,r){this.raw.remove(t,r),this.unmap(t)}forEachJointHandleAttachedToRigidBody(t,r){this.raw.forEachJointAttachedToRigidBody(t,r)}unmap(t){this.map.delete(t)}len(){return this.map.len()}contains(t){return this.get(t)!=null}get(t){return this.map.get(t)}forEach(t){this.map.forEach(t)}getAll(){return this.map.getAll()}},et=class Se{constructor(t,r){this.rawSet=t,this.handle=r}static newTyped(t,r){switch(t.jointType(r)){case F.Revolute:return new Tr(t,r);case F.Prismatic:return new vr(t,r);case F.Fixed:return new ur(t,r);default:return new Se(t,r)}}isValid(){return this.rawSet.contains(this.handle)}setContactsEnabled(t){this.rawSet.jointSetContactsEnabled(this.handle,t)}contactsEnabled(){return this.rawSet.jointContactsEnabled(this.handle)}},Jt=class extends et{},ur=class extends et{},vr=class extends Jt{rawAxis(){return Gt.X}},Tr=class extends Jt{rawAxis(){return Gt.AngX}},br=class{constructor(t){this.raw=t||new O,this.map=new ir,t&&t.forEachJointHandle(r=>{this.map.set(r,et.newTyped(this.raw,r))})}free(){this.raw&&this.raw.free(),this.raw=void 0,this.map&&this.map.clear(),this.map=void 0}createJoint(t,r,e,s){const n=t.intoRaw(),o=this.raw.createJoint(n,r,e,s);n.free();let c=et.newTyped(this.raw,o);return this.map.set(o,c),c}remove(t,r){this.raw.remove(t,r),this.map.delete(t)}unmap(t){this.map.delete(t)}len(){return this.map.len()}contains(t){return this.get(t)!=null}get(t){return this.map.get(t)}forEach(t){this.map.forEach(t)}forEachJointHandleAttachedToRigidBody(t,r){this.raw.forEachJointAttachedToRigidBody(t,r)}getAll(){return this.map.getAll()}},function(a){a[a.Average=0]="Average",a[a.Min=1]="Min",a[a.Multiply=2]="Multiply",a[a.Max=3]="Max"}(nt||(nt={})),or=class{constructor(t){this.raw=t||new it}free(){this.raw&&this.raw.free(),this.raw=void 0}},fr=class{constructor(t){this.raw=t||new z}free(){this.raw&&this.raw.free(),this.raw=void 0}forEachActiveRigidBodyHandle(t){this.raw.forEachActiveRigidBodyHandle(t)}},ar=class{constructor(t){this.raw=t||new K}free(){this.raw&&this.raw.free(),this.raw=void 0}},gr=class{constructor(t){this.raw=t||new G,this.tempManifold=new jr(null)}free(){this.raw&&this.raw.free(),this.raw=void 0}contactsWith(t,r){this.raw.contacts_with(t,r)}intersectionsWith(t,r){this.raw.intersections_with(t,r)}contactPair(t,r,e){const s=this.raw.contact_pair(t,r);if(s){const n=s.collider1()!=t;let o;for(o=0;o<s.numContactManifolds();++o)this.tempManifold.raw=s.contactManifold(o),this.tempManifold.raw&&e(this.tempManifold,n),this.tempManifold.free();s.free()}}intersectionPair(t,r){return this.raw.intersection_pair(t,r)}},jr=class{constructor(t){this.raw=t}free(){this.raw&&this.raw.free(),this.raw=void 0}normal(){return h.fromRaw(this.raw.normal())}localNormal1(){return h.fromRaw(this.raw.local_n1())}localNormal2(){return h.fromRaw(this.raw.local_n2())}subshape1(){return this.raw.subshape1()}subshape2(){return this.raw.subshape2()}numContacts(){return this.raw.num_contacts()}localContactPoint1(t){return h.fromRaw(this.raw.contact_local_p1(t))}localContactPoint2(t){return h.fromRaw(this.raw.contact_local_p2(t))}contactDist(t){return this.raw.contact_dist(t)}contactFid1(t){return this.raw.contact_fid1(t)}contactFid2(t){return this.raw.contact_fid2(t)}contactImpulse(t){return this.raw.contact_impulse(t)}contactTangentImpulse(t){return this.raw.contact_tangent_impulse(t)}numSolverContacts(){return this.raw.num_solver_contacts()}solverContactPoint(t){return h.fromRaw(this.raw.solver_contact_point(t))}solverContactDist(t){return this.raw.solver_contact_dist(t)}solverContactFriction(t){return this.raw.solver_contact_friction(t)}solverContactRestitution(t){return this.raw.solver_contact_restitution(t)}solverContactTangentVelocity(t){return h.fromRaw(this.raw.solver_contact_tangent_velocity(t))}},lt=class Re{constructor(t,r,e,s,n){this.distance=t,this.point1=r,this.point2=e,this.normal1=s,this.normal2=n}static fromRaw(t){if(!t)return null;const r=new Re(t.distance(),h.fromRaw(t.point1()),h.fromRaw(t.point2()),h.fromRaw(t.normal1()),h.fromRaw(t.normal2()));return t.free(),r}},function(a){a[a.Vertex=0]="Vertex",a[a.Face=1]="Face",a[a.Unknown=2]="Unknown"}(tt||(tt={})),It=class ve{constructor(t,r){this.point=t,this.isInside=r}static fromRaw(t){if(!t)return null;const r=new ve(h.fromRaw(t.point()),t.isInside());return t.free(),r}},Et=class Ce{constructor(t,r,e,s,n){this.featureType=tt.Unknown,this.featureId=void 0,this.collider=t,this.point=r,this.isInside=e,n!==void 0&&(this.featureId=n),s!==void 0&&(this.featureType=s)}static fromRaw(t,r){if(!r)return null;const e=new Ce(t.get(r.colliderHandle()),h.fromRaw(r.point()),r.isInside(),r.featureType(),r.featureId());return r.free(),e}},re=class{constructor(t,r){this.origin=t,this.dir=r}pointAt(t){return{x:this.origin.x+this.dir.x*t,y:this.origin.y+this.dir.y*t}}},xt=class Ae{constructor(t,r,e,s){this.featureType=tt.Unknown,this.featureId=void 0,this.toi=t,this.normal=r,s!==void 0&&(this.featureId=s),e!==void 0&&(this.featureType=e)}static fromRaw(t){if(!t)return null;const r=new Ae(t.toi(),h.fromRaw(t.normal()),t.featureType(),t.featureId());return t.free(),r}},Pt=class Ee{constructor(t,r,e,s,n){this.featureType=tt.Unknown,this.featureId=void 0,this.collider=t,this.toi=r,this.normal=e,n!==void 0&&(this.featureId=n),s!==void 0&&(this.featureType=s)}static fromRaw(t,r){if(!r)return null;const e=new Ee(t.get(r.colliderHandle()),r.toi(),h.fromRaw(r.normal()),r.featureType(),r.featureId());return r.free(),e}},Er=class Ie{constructor(t,r){this.collider=t,this.toi=r}static fromRaw(t,r){if(!r)return null;const e=new Ie(t.get(r.colliderHandle()),r.toi());return r.free(),e}},ct=class Te{constructor(t,r,e,s,n){this.toi=t,this.witness1=r,this.witness2=e,this.normal1=s,this.normal2=n}static fromRaw(t,r){if(!r)return null;const e=new Te(r.toi(),h.fromRaw(r.witness1()),h.fromRaw(r.witness2()),h.fromRaw(r.normal1()),h.fromRaw(r.normal2()));return r.free(),e}},Bt=class Pe extends ct{constructor(t,r,e,s,n,o){super(r,e,s,n,o),this.collider=t}static fromRaw(t,r){if(!r)return null;const e=new Pe(t.get(r.colliderHandle()),r.toi(),h.fromRaw(r.witness1()),h.fromRaw(r.witness2()),h.fromRaw(r.normal1()),h.fromRaw(r.normal2()));return r.free(),e}},D=class{static fromRaw(t,r){const e=t.coShapeType(r);let s,n,o,c,p,u,w;switch(e){case C.Ball:return new gt(t.coRadius(r));case C.Cuboid:return s=t.coHalfExtents(r),new vt(s.x,s.y);case C.RoundCuboid:return s=t.coHalfExtents(r),n=t.coRoundRadius(r),new jt(s.x,s.y,n);case C.Capsule:return p=t.coHalfHeight(r),u=t.coRadius(r),new St(p,u);case C.Segment:return o=t.coVertices(r),new Ft(h.new(o[0],o[1]),h.new(o[2],o[3]));case C.Polyline:return o=t.coVertices(r),c=t.coIndices(r),new Tt(o,c);case C.Triangle:return o=t.coVertices(r),new Nt(h.new(o[0],o[1]),h.new(o[2],o[3]),h.new(o[4],o[5]));case C.RoundTriangle:return o=t.coVertices(r),n=t.coRoundRadius(r),new Dt(h.new(o[0],o[1]),h.new(o[2],o[3]),h.new(o[4],o[5]),n);case C.HalfSpace:return w=h.fromRaw(t.coHalfspaceNormal(r)),new Ct(w);case C.TriMesh:return o=t.coVertices(r),c=t.coIndices(r),new kt(o,c);case C.HeightField:const _=t.coHeightfieldScale(r),m=t.coHeightfieldHeights(r);return new At(m,_);case C.ConvexPolygon:return o=t.coVertices(r),new at(o,!1);case C.RoundConvexPolygon:return o=t.coVertices(r),n=t.coRoundRadius(r),new ot(o,n,!1);default:throw new Error("unknown shape type: "+e)}}castShape(t,r,e,s,n,o,c,p,u){let w=h.intoRaw(t),_=A.intoRaw(r),m=h.intoRaw(e),b=h.intoRaw(n),x=A.intoRaw(o),N=h.intoRaw(c),V=this.intoRaw(),q=s.intoRaw(),Z=ct.fromRaw(null,V.castShape(w,_,m,q,b,x,N,p,u));return w.free(),_.free(),m.free(),b.free(),x.free(),N.free(),V.free(),q.free(),Z}intersectsShape(t,r,e,s,n){let o=h.intoRaw(t),c=A.intoRaw(r),p=h.intoRaw(s),u=A.intoRaw(n),w=this.intoRaw(),_=e.intoRaw(),m=w.intersectsShape(o,c,_,p,u);return o.free(),c.free(),p.free(),u.free(),w.free(),_.free(),m}contactShape(t,r,e,s,n,o){let c=h.intoRaw(t),p=A.intoRaw(r),u=h.intoRaw(s),w=A.intoRaw(n),_=this.intoRaw(),m=e.intoRaw(),b=lt.fromRaw(_.contactShape(c,p,m,u,w,o));return c.free(),p.free(),u.free(),w.free(),_.free(),m.free(),b}containsPoint(t,r,e){let s=h.intoRaw(t),n=A.intoRaw(r),o=h.intoRaw(e),c=this.intoRaw(),p=c.containsPoint(s,n,o);return s.free(),n.free(),o.free(),c.free(),p}projectPoint(t,r,e,s){let n=h.intoRaw(t),o=A.intoRaw(r),c=h.intoRaw(e),p=this.intoRaw(),u=It.fromRaw(p.projectPoint(n,o,c,s));return n.free(),o.free(),c.free(),p.free(),u}intersectsRay(t,r,e,s){let n=h.intoRaw(r),o=A.intoRaw(e),c=h.intoRaw(t.origin),p=h.intoRaw(t.dir),u=this.intoRaw(),w=u.intersectsRay(n,o,c,p,s);return n.free(),o.free(),c.free(),p.free(),u.free(),w}castRay(t,r,e,s,n){let o=h.intoRaw(r),c=A.intoRaw(e),p=h.intoRaw(t.origin),u=h.intoRaw(t.dir),w=this.intoRaw(),_=w.castRay(o,c,p,u,s,n);return o.free(),c.free(),p.free(),u.free(),w.free(),_}castRayAndGetNormal(t,r,e,s,n){let o=h.intoRaw(r),c=A.intoRaw(e),p=h.intoRaw(t.origin),u=h.intoRaw(t.dir),w=this.intoRaw(),_=xt.fromRaw(w.castRayAndGetNormal(o,c,p,u,s,n));return o.free(),c.free(),p.free(),u.free(),w.free(),_}},function(a){a[a.Ball=0]="Ball",a[a.Cuboid=1]="Cuboid",a[a.Capsule=2]="Capsule",a[a.Segment=3]="Segment",a[a.Polyline=4]="Polyline",a[a.Triangle=5]="Triangle",a[a.TriMesh=6]="TriMesh",a[a.HeightField=7]="HeightField",a[a.ConvexPolygon=9]="ConvexPolygon",a[a.RoundCuboid=10]="RoundCuboid",a[a.RoundTriangle=11]="RoundTriangle",a[a.RoundConvexPolygon=12]="RoundConvexPolygon",a[a.HalfSpace=13]="HalfSpace"}(C||(C={})),gt=class extends D{constructor(t){super(),this.type=C.Ball,this.radius=t}intoRaw(){return y.ball(this.radius)}},Ct=class extends D{constructor(t){super(),this.type=C.HalfSpace,this.normal=t}intoRaw(){let t=h.intoRaw(this.normal),r=y.halfspace(t);return t.free(),r}},vt=class extends D{constructor(t,r){super(),this.type=C.Cuboid,this.halfExtents=h.new(t,r)}intoRaw(){return y.cuboid(this.halfExtents.x,this.halfExtents.y)}},jt=class extends D{constructor(t,r,e){super(),this.type=C.RoundCuboid,this.halfExtents=h.new(t,r),this.borderRadius=e}intoRaw(){return y.roundCuboid(this.halfExtents.x,this.halfExtents.y,this.borderRadius)}},St=class extends D{constructor(t,r){super(),this.type=C.Capsule,this.halfHeight=t,this.radius=r}intoRaw(){return y.capsule(this.halfHeight,this.radius)}},Ft=class extends D{constructor(t,r){super(),this.type=C.Segment,this.a=t,this.b=r}intoRaw(){let t=h.intoRaw(this.a),r=h.intoRaw(this.b),e=y.segment(t,r);return t.free(),r.free(),e}},Nt=class extends D{constructor(t,r,e){super(),this.type=C.Triangle,this.a=t,this.b=r,this.c=e}intoRaw(){let t=h.intoRaw(this.a),r=h.intoRaw(this.b),e=h.intoRaw(this.c),s=y.triangle(t,r,e);return t.free(),r.free(),e.free(),s}},Dt=class extends D{constructor(t,r,e,s){super(),this.type=C.RoundTriangle,this.a=t,this.b=r,this.c=e,this.borderRadius=s}intoRaw(){let t=h.intoRaw(this.a),r=h.intoRaw(this.b),e=h.intoRaw(this.c),s=y.roundTriangle(t,r,e,this.borderRadius);return t.free(),r.free(),e.free(),s}},Tt=class extends D{constructor(t,r){super(),this.type=C.Polyline,this.vertices=t,this.indices=r??new Uint32Array(0)}intoRaw(){return y.polyline(this.vertices,this.indices)}},kt=class extends D{constructor(t,r){super(),this.type=C.TriMesh,this.vertices=t,this.indices=r}intoRaw(){return y.trimesh(this.vertices,this.indices)}},at=class extends D{constructor(t,r){super(),this.type=C.ConvexPolygon,this.vertices=t,this.skipConvexHullComputation=!!r}intoRaw(){return this.skipConvexHullComputation?y.convexPolyline(this.vertices):y.convexHull(this.vertices)}},ot=class extends D{constructor(t,r,e){super(),this.type=C.RoundConvexPolygon,this.vertices=t,this.borderRadius=r,this.skipConvexHullComputation=!!e}intoRaw(){return this.skipConvexHullComputation?y.roundConvexPolyline(this.vertices,this.borderRadius):y.roundConvexHull(this.vertices,this.borderRadius)}},At=class extends D{constructor(t,r){super(),this.type=C.HeightField,this.heights=t,this.scale=r}intoRaw(){let t=h.intoRaw(this.scale),r=y.heightfield(this.heights,t);return t.free(),r}},function(a){a[a.DYNAMIC_DYNAMIC=1]="DYNAMIC_DYNAMIC",a[a.DYNAMIC_KINEMATIC=12]="DYNAMIC_KINEMATIC",a[a.DYNAMIC_FIXED=2]="DYNAMIC_FIXED",a[a.KINEMATIC_KINEMATIC=52224]="KINEMATIC_KINEMATIC",a[a.KINEMATIC_FIXED=8704]="KINEMATIC_FIXED",a[a.FIXED_FIXED=32]="FIXED_FIXED",a[a.DEFAULT=15]="DEFAULT",a[a.ALL=60943]="ALL"}(bt||(bt={})),Rt=class{constructor(t,r,e,s){this.colliderSet=t,this.handle=r,this._parent=e,this._shape=s}finalizeDeserialization(t){this.handle!=null&&(this._parent=t.get(this.colliderSet.raw.coParent(this.handle)))}ensureShapeIsCached(){this._shape||(this._shape=D.fromRaw(this.colliderSet.raw,this.handle))}get shape(){return this.ensureShapeIsCached(),this._shape}isValid(){return this.colliderSet.raw.contains(this.handle)}translation(){return h.fromRaw(this.colliderSet.raw.coTranslation(this.handle))}rotation(){return A.fromRaw(this.colliderSet.raw.coRotation(this.handle))}isSensor(){return this.colliderSet.raw.coIsSensor(this.handle)}setSensor(t){this.colliderSet.raw.coSetSensor(this.handle,t)}setShape(t){let r=t.intoRaw();this.colliderSet.raw.coSetShape(this.handle,r),r.free(),this._shape=t}setEnabled(t){this.colliderSet.raw.coSetEnabled(this.handle,t)}isEnabled(){return this.colliderSet.raw.coIsEnabled(this.handle)}setRestitution(t){this.colliderSet.raw.coSetRestitution(this.handle,t)}setFriction(t){this.colliderSet.raw.coSetFriction(this.handle,t)}frictionCombineRule(){return this.colliderSet.raw.coFrictionCombineRule(this.handle)}setFrictionCombineRule(t){this.colliderSet.raw.coSetFrictionCombineRule(this.handle,t)}restitutionCombineRule(){return this.colliderSet.raw.coRestitutionCombineRule(this.handle)}setRestitutionCombineRule(t){this.colliderSet.raw.coSetRestitutionCombineRule(this.handle,t)}setCollisionGroups(t){this.colliderSet.raw.coSetCollisionGroups(this.handle,t)}setSolverGroups(t){this.colliderSet.raw.coSetSolverGroups(this.handle,t)}activeHooks(){return this.colliderSet.raw.coActiveHooks(this.handle)}setActiveHooks(t){this.colliderSet.raw.coSetActiveHooks(this.handle,t)}activeEvents(){return this.colliderSet.raw.coActiveEvents(this.handle)}setActiveEvents(t){this.colliderSet.raw.coSetActiveEvents(this.handle,t)}activeCollisionTypes(){return this.colliderSet.raw.coActiveCollisionTypes(this.handle)}setContactForceEventThreshold(t){return this.colliderSet.raw.coSetContactForceEventThreshold(this.handle,t)}contactForceEventThreshold(){return this.colliderSet.raw.coContactForceEventThreshold(this.handle)}setActiveCollisionTypes(t){this.colliderSet.raw.coSetActiveCollisionTypes(this.handle,t)}setDensity(t){this.colliderSet.raw.coSetDensity(this.handle,t)}setMass(t){this.colliderSet.raw.coSetMass(this.handle,t)}setMassProperties(t,r,e){let s=h.intoRaw(r);this.colliderSet.raw.coSetMassProperties(this.handle,t,s,e),s.free()}setTranslation(t){this.colliderSet.raw.coSetTranslation(this.handle,t.x,t.y)}setTranslationWrtParent(t){this.colliderSet.raw.coSetTranslationWrtParent(this.handle,t.x,t.y)}setRotation(t){this.colliderSet.raw.coSetRotation(this.handle,t)}setRotationWrtParent(t){this.colliderSet.raw.coSetRotationWrtParent(this.handle,t)}shapeType(){return this.colliderSet.raw.coShapeType(this.handle)}halfExtents(){return h.fromRaw(this.colliderSet.raw.coHalfExtents(this.handle))}setHalfExtents(t){const r=h.intoRaw(t);this.colliderSet.raw.coSetHalfExtents(this.handle,r)}radius(){return this.colliderSet.raw.coRadius(this.handle)}setRadius(t){this.colliderSet.raw.coSetRadius(this.handle,t)}roundRadius(){return this.colliderSet.raw.coRoundRadius(this.handle)}setRoundRadius(t){this.colliderSet.raw.coSetRoundRadius(this.handle,t)}halfHeight(){return this.colliderSet.raw.coHalfHeight(this.handle)}setHalfHeight(t){this.colliderSet.raw.coSetHalfHeight(this.handle,t)}vertices(){return this.colliderSet.raw.coVertices(this.handle)}indices(){return this.colliderSet.raw.coIndices(this.handle)}heightfieldHeights(){return this.colliderSet.raw.coHeightfieldHeights(this.handle)}heightfieldScale(){let t=this.colliderSet.raw.coHeightfieldScale(this.handle);return h.fromRaw(t)}parent(){return this._parent}friction(){return this.colliderSet.raw.coFriction(this.handle)}restitution(){return this.colliderSet.raw.coRestitution(this.handle)}density(){return this.colliderSet.raw.coDensity(this.handle)}mass(){return this.colliderSet.raw.coMass(this.handle)}volume(){return this.colliderSet.raw.coVolume(this.handle)}collisionGroups(){return this.colliderSet.raw.coCollisionGroups(this.handle)}solverGroups(){return this.colliderSet.raw.coSolverGroups(this.handle)}containsPoint(t){let r=h.intoRaw(t),e=this.colliderSet.raw.coContainsPoint(this.handle,r);return r.free(),e}projectPoint(t,r){let e=h.intoRaw(t),s=It.fromRaw(this.colliderSet.raw.coProjectPoint(this.handle,e,r));return e.free(),s}intersectsRay(t,r){let e=h.intoRaw(t.origin),s=h.intoRaw(t.dir),n=this.colliderSet.raw.coIntersectsRay(this.handle,e,s,r);return e.free(),s.free(),n}castShape(t,r,e,s,n,o,c){let p=h.intoRaw(t),u=h.intoRaw(e),w=A.intoRaw(s),_=h.intoRaw(n),m=r.intoRaw(),b=ct.fromRaw(this.colliderSet,this.colliderSet.raw.coCastShape(this.handle,p,m,u,w,_,o,c));return p.free(),u.free(),w.free(),_.free(),m.free(),b}castCollider(t,r,e,s,n){let o=h.intoRaw(t),c=h.intoRaw(e),p=Bt.fromRaw(this.colliderSet,this.colliderSet.raw.coCastCollider(this.handle,o,r.handle,c,s,n));return o.free(),c.free(),p}intersectsShape(t,r,e){let s=h.intoRaw(r),n=A.intoRaw(e),o=t.intoRaw(),c=this.colliderSet.raw.coIntersectsShape(this.handle,o,s,n);return s.free(),n.free(),o.free(),c}contactShape(t,r,e,s){let n=h.intoRaw(r),o=A.intoRaw(e),c=t.intoRaw(),p=lt.fromRaw(this.colliderSet.raw.coContactShape(this.handle,c,n,o,s));return n.free(),o.free(),c.free(),p}contactCollider(t,r){return lt.fromRaw(this.colliderSet.raw.coContactCollider(this.handle,t.handle,r))}castRay(t,r,e){let s=h.intoRaw(t.origin),n=h.intoRaw(t.dir),o=this.colliderSet.raw.coCastRay(this.handle,s,n,r,e);return s.free(),n.free(),o}castRayAndGetNormal(t,r,e){let s=h.intoRaw(t.origin),n=h.intoRaw(t.dir),o=xt.fromRaw(this.colliderSet.raw.coCastRayAndGetNormal(this.handle,s,n,r,e));return s.free(),n.free(),o}},function(a){a[a.Density=0]="Density",a[a.Mass=1]="Mass",a[a.MassProps=2]="MassProps"}(Q||(Q={})),$r=class H{constructor(t){this.enabled=!0,this.shape=t,this.massPropsMode=Q.Density,this.density=1,this.friction=.5,this.restitution=0,this.rotation=A.identity(),this.translation=h.zeros(),this.isSensor=!1,this.collisionGroups=4294967295,this.solverGroups=4294967295,this.frictionCombineRule=nt.Average,this.restitutionCombineRule=nt.Average,this.activeCollisionTypes=bt.DEFAULT,this.activeEvents=0,this.activeHooks=0,this.mass=0,this.centerOfMass=h.zeros(),this.contactForceEventThreshold=0,this.principalAngularInertia=0,this.rotationsEnabled=!0}static ball(t){const r=new gt(t);return new H(r)}static capsule(t,r){const e=new St(t,r);return new H(e)}static segment(t,r){const e=new Ft(t,r);return new H(e)}static triangle(t,r,e){const s=new Nt(t,r,e);return new H(s)}static roundTriangle(t,r,e,s){const n=new Dt(t,r,e,s);return new H(n)}static polyline(t,r){const e=new Tt(t,r);return new H(e)}static trimesh(t,r){const e=new kt(t,r);return new H(e)}static cuboid(t,r){const e=new vt(t,r);return new H(e)}static roundCuboid(t,r,e){const s=new jt(t,r,e);return new H(s)}static halfspace(t){const r=new Ct(t);return new H(r)}static heightfield(t,r){const e=new At(t,r);return new H(e)}static convexHull(t){const r=new at(t,!1);return new H(r)}static convexPolyline(t){const r=new at(t,!0);return new H(r)}static roundConvexHull(t,r){const e=new ot(t,r,!1);return new H(e)}static roundConvexPolyline(t,r){const e=new ot(t,r,!0);return new H(e)}setTranslation(t,r){if(typeof t!="number"||typeof r!="number")throw TypeError("The translation components must be numbers.");return this.translation={x:t,y:r},this}setRotation(t){return this.rotation=t,this}setSensor(t){return this.isSensor=t,this}setEnabled(t){return this.enabled=t,this}setDensity(t){return this.massPropsMode=Q.Density,this.density=t,this}setMass(t){return this.massPropsMode=Q.Mass,this.mass=t,this}setMassProperties(t,r,e){return this.massPropsMode=Q.MassProps,this.mass=t,h.copy(this.centerOfMass,r),this.principalAngularInertia=e,this}setRestitution(t){return this.restitution=t,this}setFriction(t){return this.friction=t,this}setFrictionCombineRule(t){return this.frictionCombineRule=t,this}setRestitutionCombineRule(t){return this.restitutionCombineRule=t,this}setCollisionGroups(t){return this.collisionGroups=t,this}setSolverGroups(t){return this.solverGroups=t,this}setActiveHooks(t){return this.activeHooks=t,this}setActiveEvents(t){return this.activeEvents=t,this}setActiveCollisionTypes(t){return this.activeCollisionTypes=t,this}setContactForceEventThreshold(t){return this.contactForceEventThreshold=t,this}},cr=class{constructor(t){this.raw=t||new P,this.map=new ir,t&&t.forEachColliderHandle(r=>{this.map.set(r,new Rt(this,r,null))})}free(){this.raw&&this.raw.free(),this.raw=void 0,this.map&&this.map.clear(),this.map=void 0}castClosure(t){return r=>{if(t)return t(this.get(r))}}finalizeDeserialization(t){this.map.forEach(r=>r.finalizeDeserialization(t))}createCollider(t,r,e){let s=e!=null&&e!=null;if(s&&isNaN(e))throw Error("Cannot create a collider with a parent rigid-body handle that is not a number.");let n=r.shape.intoRaw(),o=h.intoRaw(r.translation),c=A.intoRaw(r.rotation),p=h.intoRaw(r.centerOfMass),u=this.raw.createCollider(r.enabled,n,o,c,r.massPropsMode,r.mass,p,r.principalAngularInertia,r.density,r.friction,r.restitution,r.frictionCombineRule,r.restitutionCombineRule,r.isSensor,r.collisionGroups,r.solverGroups,r.activeCollisionTypes,r.activeHooks,r.activeEvents,r.contactForceEventThreshold,s,s?e:0,t.raw);n.free(),o.free(),c.free(),p.free();let w=s?t.get(e):null,_=new Rt(this,u,w,r.shape);return this.map.set(u,_),_}remove(t,r,e,s){this.raw.remove(t,r.raw,e.raw,s),this.unmap(t)}unmap(t){this.map.delete(t)}get(t){return this.map.get(t)}len(){return this.map.len()}contains(t){return this.get(t)!=null}forEach(t){this.map.forEach(t)}getAll(){return this.map.getAll()}},Sr=class{constructor(t){this.raw=t||new qt}free(){this.raw&&this.raw.free(),this.raw=void 0}step(t,r,e,s,n,o,c,p,u,w,_,m){let b=h.intoRaw(t);_?this.raw.stepWithEvents(b,r.raw,e.raw,s.raw,n.raw,o.raw,c.raw,p.raw,u.raw,w.raw,_.raw,m,m?m.filterContactPair:null,m?m.filterIntersectionPair:null):this.raw.step(b,r.raw,e.raw,s.raw,n.raw,o.raw,c.raw,p.raw,u.raw,w.raw),b.free()}},function(a){a[a.EXCLUDE_FIXED=1]="EXCLUDE_FIXED",a[a.EXCLUDE_KINEMATIC=2]="EXCLUDE_KINEMATIC",a[a.EXCLUDE_DYNAMIC=4]="EXCLUDE_DYNAMIC",a[a.EXCLUDE_SENSORS=8]="EXCLUDE_SENSORS",a[a.EXCLUDE_SOLIDS=16]="EXCLUDE_SOLIDS",a[a.ONLY_DYNAMIC=3]="ONLY_DYNAMIC",a[a.ONLY_KINEMATIC=5]="ONLY_KINEMATIC",a[a.ONLY_FIXED=6]="ONLY_FIXED"}(Cr||(Cr={})),Ar=class{constructor(t){this.raw=t||new ut}free(){this.raw&&this.raw.free(),this.raw=void 0}update(t,r){this.raw.update(t.raw,r.raw)}castRay(t,r,e,s,n,o,c,p,u,w){let _=h.intoRaw(e.origin),m=h.intoRaw(e.dir),b=Er.fromRaw(r,this.raw.castRay(t.raw,r.raw,_,m,s,n,o,c,p,u,w));return _.free(),m.free(),b}castRayAndGetNormal(t,r,e,s,n,o,c,p,u,w){let _=h.intoRaw(e.origin),m=h.intoRaw(e.dir),b=Pt.fromRaw(r,this.raw.castRayAndGetNormal(t.raw,r.raw,_,m,s,n,o,c,p,u,w));return _.free(),m.free(),b}intersectionsWithRay(t,r,e,s,n,o,c,p,u,w,_){let m=h.intoRaw(e.origin),b=h.intoRaw(e.dir),x=N=>o(Pt.fromRaw(r,N));this.raw.intersectionsWithRay(t.raw,r.raw,m,b,s,n,x,c,p,u,w,_),m.free(),b.free()}intersectionWithShape(t,r,e,s,n,o,c,p,u,w){let _=h.intoRaw(e),m=A.intoRaw(s),b=n.intoRaw(),x=this.raw.intersectionWithShape(t.raw,r.raw,_,m,b,o,c,p,u,w);return _.free(),m.free(),b.free(),x}projectPoint(t,r,e,s,n,o,c,p,u){let w=h.intoRaw(e),_=Et.fromRaw(r,this.raw.projectPoint(t.raw,r.raw,w,s,n,o,c,p,u));return w.free(),_}projectPointAndGetFeature(t,r,e,s,n,o,c,p){let u=h.intoRaw(e),w=Et.fromRaw(r,this.raw.projectPointAndGetFeature(t.raw,r.raw,u,s,n,o,c,p));return u.free(),w}intersectionsWithPoint(t,r,e,s,n,o,c,p,u){let w=h.intoRaw(e);this.raw.intersectionsWithPoint(t.raw,r.raw,w,s,n,o,c,p,u),w.free()}castShape(t,r,e,s,n,o,c,p,u,w,_,m,b){let x=h.intoRaw(e),N=A.intoRaw(s),V=h.intoRaw(n),q=o.intoRaw(),Z=Bt.fromRaw(r,this.raw.castShape(t.raw,r.raw,x,N,V,q,c,p,u,w,_,m,b));return x.free(),N.free(),V.free(),q.free(),Z}intersectionsWithShape(t,r,e,s,n,o,c,p,u,w,_){let m=h.intoRaw(e),b=A.intoRaw(s),x=n.intoRaw();this.raw.intersectionsWithShape(t.raw,r.raw,m,b,x,o,c,p,u,w,_),m.free(),b.free(),x.free()}collidersWithAabbIntersectingAabb(t,r,e){let s=h.intoRaw(t),n=h.intoRaw(r);this.raw.collidersWithAabbIntersectingAabb(s,n,e),s.free(),n.free()}},Ht=class{constructor(t){this.raw=t||new Qt}free(){this.raw&&this.raw.free(),this.raw=void 0}serializeAll(t,r,e,s,n,o,c,p,u){let w=h.intoRaw(t);const _=this.raw.serializeAll(w,r.raw,e.raw,s.raw,n.raw,o.raw,c.raw,p.raw,u.raw);return w.free(),_}deserializeAll(t){return Fr.fromRaw(this.raw.deserializeAll(t))}},hr=class{constructor(t,r){this.vertices=t,this.colors=r}},dr=class{constructor(t){this.raw=t||new Wt}free(){this.raw&&this.raw.free(),this.raw=void 0,this.vertices=void 0,this.colors=void 0}render(t,r,e,s,n){this.raw.render(t.raw,r.raw,e.raw,s.raw,n.raw),this.vertices=this.raw.vertices(),this.colors=this.raw.colors()}},lr=class{},mr=class{constructor(t,r,e,s,n){this.params=r,this.bodies=e,this.colliders=s,this.queries=n,this.raw=new Vt(t),this.rawCharacterCollision=new dt,this._applyImpulsesToDynamicBodies=!1,this._characterMass=null}free(){this.raw&&(this.raw.free(),this.rawCharacterCollision.free()),this.raw=void 0,this.rawCharacterCollision=void 0}up(){return this.raw.up()}setUp(t){let r=h.intoRaw(t);return this.raw.setUp(r)}applyImpulsesToDynamicBodies(){return this._applyImpulsesToDynamicBodies}setApplyImpulsesToDynamicBodies(t){this._applyImpulsesToDynamicBodies=t}characterMass(){return this._characterMass}setCharacterMass(t){this._characterMass=t}offset(){return this.raw.offset()}setOffset(t){this.raw.setOffset(t)}slideEnabled(){return this.raw.slideEnabled()}setSlideEnabled(t){this.raw.setSlideEnabled(t)}autostepMaxHeight(){return this.raw.autostepMaxHeight()}autostepMinWidth(){return this.raw.autostepMinWidth()}autostepIncludesDynamicBodies(){return this.raw.autostepIncludesDynamicBodies()}autostepEnabled(){return this.raw.autostepEnabled()}enableAutostep(t,r,e){this.raw.enableAutostep(t,r,e)}disableAutostep(){return this.raw.disableAutostep()}maxSlopeClimbAngle(){return this.raw.maxSlopeClimbAngle()}setMaxSlopeClimbAngle(t){this.raw.setMaxSlopeClimbAngle(t)}minSlopeSlideAngle(){return this.raw.minSlopeSlideAngle()}setMinSlopeSlideAngle(t){this.raw.setMinSlopeSlideAngle(t)}snapToGroundDistance(){return this.raw.snapToGroundDistance()}enableSnapToGround(t){this.raw.enableSnapToGround(t)}disableSnapToGround(){this.raw.disableSnapToGround()}snapToGroundEnabled(){return this.raw.snapToGroundEnabled()}computeColliderMovement(t,r,e,s,n){let o=h.intoRaw(r);this.raw.computeColliderMovement(this.params.dt,this.bodies.raw,this.colliders.raw,this.queries.raw,t.handle,o,this._applyImpulsesToDynamicBodies,this._characterMass,e,s,this.colliders.castClosure(n)),o.free()}computedMovement(){return h.fromRaw(this.raw.computedMovement())}computedGrounded(){return this.raw.computedGrounded()}numComputedCollisions(){return this.raw.numComputedCollisions()}computedCollision(t,r){if(this.raw.computedCollision(t,this.rawCharacterCollision)){let e=this.rawCharacterCollision;return r=r??new lr,r.translationApplied=h.fromRaw(e.translationApplied()),r.translationRemaining=h.fromRaw(e.translationRemaining()),r.toi=e.toi(),r.witness1=h.fromRaw(e.worldWitness1()),r.witness2=h.fromRaw(e.worldWitness2()),r.normal1=h.fromRaw(e.worldNormal1()),r.normal2=h.fromRaw(e.worldNormal2()),r.collider=this.colliders.get(e.handle()),r}else return null}},Fr=class xe{constructor(t,r,e,s,n,o,c,p,u,w,_,m,b,x){this.gravity=t,this.integrationParameters=new _r(r),this.islands=new fr(e),this.broadPhase=new ar(s),this.narrowPhase=new gr(n),this.bodies=new Pr(o),this.colliders=new cr(c),this.impulseJoints=new wr(p),this.multibodyJoints=new br(u),this.ccdSolver=new or(w),this.queryPipeline=new Ar(_),this.physicsPipeline=new Sr(m),this.serializationPipeline=new Ht(b),this.debugRenderPipeline=new dr(x),this.characterControllers=new Set,this.impulseJoints.finalizeDeserialization(this.bodies),this.bodies.finalizeDeserialization(this.colliders),this.colliders.finalizeDeserialization(this.bodies)}free(){this.integrationParameters.free(),this.islands.free(),this.broadPhase.free(),this.narrowPhase.free(),this.bodies.free(),this.colliders.free(),this.impulseJoints.free(),this.multibodyJoints.free(),this.ccdSolver.free(),this.queryPipeline.free(),this.physicsPipeline.free(),this.serializationPipeline.free(),this.debugRenderPipeline.free(),this.characterControllers.forEach(t=>t.free()),this.integrationParameters=void 0,this.islands=void 0,this.broadPhase=void 0,this.narrowPhase=void 0,this.bodies=void 0,this.colliders=void 0,this.ccdSolver=void 0,this.impulseJoints=void 0,this.multibodyJoints=void 0,this.queryPipeline=void 0,this.physicsPipeline=void 0,this.serializationPipeline=void 0,this.debugRenderPipeline=void 0,this.characterControllers=void 0}static fromRaw(t){return t?new xe(h.fromRaw(t.takeGravity()),t.takeIntegrationParameters(),t.takeIslandManager(),t.takeBroadPhase(),t.takeNarrowPhase(),t.takeBodies(),t.takeColliders(),t.takeImpulseJoints(),t.takeMultibodyJoints()):null}takeSnapshot(){return this.serializationPipeline.serializeAll(this.gravity,this.integrationParameters,this.islands,this.broadPhase,this.narrowPhase,this.bodies,this.colliders,this.impulseJoints,this.multibodyJoints)}static restoreSnapshot(t){return new Ht().deserializeAll(t)}debugRender(){return this.debugRenderPipeline.render(this.bodies,this.colliders,this.impulseJoints,this.multibodyJoints,this.narrowPhase),new hr(this.debugRenderPipeline.vertices,this.debugRenderPipeline.colors)}step(t,r){this.physicsPipeline.step(this.gravity,this.integrationParameters,this.islands,this.broadPhase,this.narrowPhase,this.bodies,this.colliders,this.impulseJoints,this.multibodyJoints,this.ccdSolver,t,r),this.queryPipeline.update(this.bodies,this.colliders)}propagateModifiedBodyPositionsToColliders(){this.bodies.raw.propagateModifiedBodyPositionsToColliders(this.colliders.raw)}updateSceneQueries(){this.propagateModifiedBodyPositionsToColliders(),this.queryPipeline.update(this.bodies,this.colliders)}get timestep(){return this.integrationParameters.dt}set timestep(t){this.integrationParameters.dt=t}get maxVelocityIterations(){return this.integrationParameters.maxVelocityIterations}set maxVelocityIterations(t){this.integrationParameters.maxVelocityIterations=t}get maxVelocityFrictionIterations(){return this.integrationParameters.maxVelocityFrictionIterations}set maxVelocityFrictionIterations(t){this.integrationParameters.maxVelocityFrictionIterations=t}get maxStabilizationIterations(){return this.integrationParameters.maxStabilizationIterations}set maxStabilizationIterations(t){this.integrationParameters.maxStabilizationIterations=t}createRigidBody(t){return this.bodies.createRigidBody(this.colliders,t)}createCharacterController(t){let r=new mr(t,this.integrationParameters,this.bodies,this.colliders,this.queryPipeline);return this.characterControllers.add(r),r}removeCharacterController(t){this.characterControllers.delete(t),t.free()}createCollider(t,r){let e=r?r.handle:void 0;return this.colliders.createCollider(this.bodies,t,e)}createImpulseJoint(t,r,e,s){return this.impulseJoints.createJoint(this.bodies,t,r.handle,e.handle,s)}createMultibodyJoint(t,r,e,s){return this.multibodyJoints.createJoint(t,r.handle,e.handle,s)}getRigidBody(t){return this.bodies.get(t)}getCollider(t){return this.colliders.get(t)}getImpulseJoint(t){return this.impulseJoints.get(t)}getMultibodyJoint(t){return this.multibodyJoints.get(t)}removeRigidBody(t){this.bodies&&this.bodies.remove(t.handle,this.islands,this.colliders,this.impulseJoints,this.multibodyJoints)}removeCollider(t,r){this.colliders&&this.colliders.remove(t.handle,this.islands,this.bodies,r)}removeImpulseJoint(t,r){this.impulseJoints&&this.impulseJoints.remove(t.handle,r)}removeMultibodyJoint(t,r){this.impulseJoints&&this.multibodyJoints.remove(t.handle,r)}forEachCollider(t){this.colliders.forEach(t)}forEachRigidBody(t){this.bodies.forEach(t)}forEachActiveRigidBody(t){this.bodies.forEachActiveRigidBody(this.islands,t)}castRay(t,r,e,s,n,o,c,p){return this.queryPipeline.castRay(this.bodies,this.colliders,t,r,e,s,n,o?o.handle:null,c?c.handle:null,this.colliders.castClosure(p))}castRayAndGetNormal(t,r,e,s,n,o,c,p){return this.queryPipeline.castRayAndGetNormal(this.bodies,this.colliders,t,r,e,s,n,o?o.handle:null,c?c.handle:null,this.colliders.castClosure(p))}intersectionsWithRay(t,r,e,s,n,o,c,p,u){this.queryPipeline.intersectionsWithRay(this.bodies,this.colliders,t,r,e,s,n,o,c?c.handle:null,p?p.handle:null,this.colliders.castClosure(u))}intersectionWithShape(t,r,e,s,n,o,c,p){let u=this.queryPipeline.intersectionWithShape(this.bodies,this.colliders,t,r,e,s,n,o?o.handle:null,c?c.handle:null,this.colliders.castClosure(p));return u!=null?this.colliders.get(u):null}projectPoint(t,r,e,s,n,o,c){return this.queryPipeline.projectPoint(this.bodies,this.colliders,t,r,e,s,n?n.handle:null,o?o.handle:null,this.colliders.castClosure(c))}projectPointAndGetFeature(t,r,e,s,n,o){return this.queryPipeline.projectPointAndGetFeature(this.bodies,this.colliders,t,r,e,s?s.handle:null,n?n.handle:null,this.colliders.castClosure(o))}intersectionsWithPoint(t,r,e,s,n,o,c){this.queryPipeline.intersectionsWithPoint(this.bodies,this.colliders,t,this.colliders.castClosure(r),e,s,n?n.handle:null,o?o.handle:null,this.colliders.castClosure(c))}castShape(t,r,e,s,n,o,c,p,u,w,_){return this.queryPipeline.castShape(this.bodies,this.colliders,t,r,e,s,n,o,c,p,u?u.handle:null,w?w.handle:null,this.colliders.castClosure(_))}intersectionsWithShape(t,r,e,s,n,o,c,p,u){this.queryPipeline.intersectionsWithShape(this.bodies,this.colliders,t,r,e,this.colliders.castClosure(s),n,o,c?c.handle:null,p?p.handle:null,this.colliders.castClosure(u))}collidersWithAabbIntersectingAabb(t,r,e){this.queryPipeline.collidersWithAabbIntersectingAabb(t,r,this.colliders.castClosure(e))}contactsWith(t,r){this.narrowPhase.contactsWith(t.handle,this.colliders.castClosure(r))}intersectionsWith(t,r){this.narrowPhase.intersectionsWith(t.handle,this.colliders.castClosure(r))}contactPair(t,r,e){this.narrowPhase.contactPair(t.handle,r.handle,e)}intersectionPair(t,r){return this.narrowPhase.intersectionPair(t.handle,r.handle)}},function(a){a[a.COLLISION_EVENTS=1]="COLLISION_EVENTS",a[a.CONTACT_FORCE_EVENTS=2]="CONTACT_FORCE_EVENTS"}(sr||(sr={})),Mr=class{free(){this.raw&&this.raw.free(),this.raw=void 0}collider1(){return this.raw.collider1()}collider2(){return this.raw.collider2()}totalForce(){return h.fromRaw(this.raw.total_force())}totalForceMagnitude(){return this.raw.total_force_magnitude()}maxForceDirection(){return h.fromRaw(this.raw.max_force_direction())}maxForceMagnitude(){return this.raw.max_force_magnitude()}},Zr=class{constructor(t,r){this.raw=r||new pt(t)}free(){this.raw&&this.raw.free(),this.raw=void 0}drainCollisionEvents(t){this.raw.drainCollisionEvents(t)}drainContactForceEvents(t){let r=new Mr;this.raw.drainContactForceEvents(e=>{r.raw=e,t(r),r.free()})}clear(){this.raw.clear()}},function(a){a[a.FILTER_CONTACT_PAIRS=1]="FILTER_CONTACT_PAIRS",a[a.FILTER_INTERSECTION_PAIRS=2]="FILTER_INTERSECTION_PAIRS"}(nr||(nr={})),function(a){a[a.EMPTY=0]="EMPTY",a[a.COMPUTE_IMPULSE=1]="COMPUTE_IMPULSE"}(xr||(xr={})),ie=function(){return Be()},be=Object.freeze(Object.defineProperty({__proto__:null,get ActiveCollisionTypes(){return bt},get ActiveEvents(){return sr},get ActiveHooks(){return nr},Ball:gt,BroadPhase:ar,CCDSolver:or,Capsule:St,CharacterCollision:lr,get CoefficientCombineRule(){return nt},Collider:Rt,ColliderDesc:$r,ColliderSet:cr,ConvexPolygon:at,Cuboid:vt,DebugRenderBuffers:hr,DebugRenderPipeline:dr,EventQueue:Zr,get FeatureType(){return tt},FixedImpulseJoint:pr,FixedMultibodyJoint:ur,HalfSpace:Ct,Heightfield:At,ImpulseJoint:rt,ImpulseJointSet:wr,IntegrationParameters:_r,IslandManager:fr,JointData:te,get JointType(){return F},KinematicCharacterController:mr,get MassPropsMode(){return Q},get MotorModel(){return yr},MultibodyJoint:et,MultibodyJointSet:br,NarrowPhase:gr,PhysicsPipeline:Sr,PointColliderProjection:Et,PointProjection:It,Polyline:Tt,PrismaticImpulseJoint:Rr,PrismaticMultibodyJoint:vr,get QueryFilterFlags(){return Cr},QueryPipeline:Ar,Ray:re,RayColliderIntersection:Pt,RayColliderToi:Er,RayIntersection:xt,RevoluteImpulseJoint:Ir,RevoluteMultibodyJoint:Tr,RigidBody:Mt,RigidBodyDesc:ee,RigidBodySet:Pr,get RigidBodyType(){return B},RotationOps:A,RoundConvexPolygon:ot,RoundCuboid:jt,RoundTriangle:Dt,Segment:Ft,SerializationPipeline:Ht,Shape:D,ShapeColliderTOI:Bt,ShapeContact:lt,ShapeTOI:ct,get ShapeType(){return C},get SolverFlags(){return xr},TempContactForceEvent:Mr,TempContactManifold:jr,TriMesh:kt,Triangle:Nt,UnitImpulseJoint:Lt,UnitMultibodyJoint:Jt,Vector2:Dr,VectorOps:h,World:Fr,version:ie},Symbol.toStringTag,{value:"Module"}))})();export{bt as ActiveCollisionTypes,sr as ActiveEvents,nr as ActiveHooks,gt as Ball,ar as BroadPhase,or as CCDSolver,St as Capsule,lr as CharacterCollision,nt as CoefficientCombineRule,Rt as Collider,$r as ColliderDesc,cr as ColliderSet,at as ConvexPolygon,vt as Cuboid,hr as DebugRenderBuffers,dr as DebugRenderPipeline,Zr as EventQueue,tt as FeatureType,pr as FixedImpulseJoint,ur as FixedMultibodyJoint,Ct as HalfSpace,At as Heightfield,rt as ImpulseJoint,wr as ImpulseJointSet,_r as IntegrationParameters,fr as IslandManager,te as JointData,F as JointType,mr as KinematicCharacterController,Q as MassPropsMode,yr as MotorModel,et as MultibodyJoint,br as MultibodyJointSet,gr as NarrowPhase,Sr as PhysicsPipeline,Et as PointColliderProjection,It as PointProjection,Tt as Polyline,Rr as PrismaticImpulseJoint,vr as PrismaticMultibodyJoint,Cr as QueryFilterFlags,Ar as QueryPipeline,re as Ray,Pt as RayColliderIntersection,Er as RayColliderToi,xt as RayIntersection,Ir as RevoluteImpulseJoint,Tr as RevoluteMultibodyJoint,Mt as RigidBody,ee as RigidBodyDesc,Pr as RigidBodySet,B as RigidBodyType,A as RotationOps,ot as RoundConvexPolygon,jt as RoundCuboid,Dt as RoundTriangle,Ft as Segment,Ht as SerializationPipeline,D as Shape,Bt as ShapeColliderTOI,lt as ShapeContact,ct as ShapeTOI,C as ShapeType,xr as SolverFlags,Mr as TempContactForceEvent,jr as TempContactManifold,kt as TriMesh,Nt as Triangle,Lt as UnitImpulseJoint,Jt as UnitMultibodyJoint,Dr as Vector2,h as VectorOps,Fr as World,Yc as __tla,be as default,ie as version};
